<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>無駄な設計書をなぜ書かされるのか・なくすにはどうしたらいいか、に関する乱文 - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2016/10/16-02.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2016/index.html">2016年</a></li>
            <li><a href="/blog/2016/10/index.html">10月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2016-10-16</time></div>
        <h1 id="page-title">無駄な設計書をなぜ書かされるのか・なくすにはどうしたらいいか、に関する乱文</h1>

<p>コードを日本語訳したような設計書。<code>CREATE TABLE</code> 文を表形式に変換した定義書。これらは「Excel 方眼紙」と呼ばれる日本の SE 業界を象徴する伝統的な手法で記述されており、ロクにメンテナンスされることなく引き継がれ、保守担当者を困惑させる。</p>
<p>今回はこうした設計書がなぜ存在し、どうしたらこんな醜いものをなくせるか、考えたい。</p>
<p>対象とするのは、ブラウザからアクセスできる、Web アプリケーションとして動作する社内のアレコレを管理するようなシステムを作る場合。組み込み系などは経験ないので、ソフトウェア開発における話、それもインターネットに繋がっていない環境で仕事をさせられているような時代遅れの SIer に限定させていただきたい。</p>
<p>漠然と思った順に書き殴っていくので、乱文です。</p>
<h2 id="自分の基本主張"><a class="header-link" href="#自分の基本主張"><span class="header-link-mark"></span></a>自分の基本主張</h2>
<ul>
  <li>コードファースト。ソフトウェアは実際に動いているコードが主たる成果物であり納品物。設計書はオマケ。</li>
  <li>コード中に書く、ドキュメンテーションコメントで補えるものは設計書を作らない。</li>
  <li>設計書を書くなら、コードへの変換ができるとか、コードとの同期が取れるとか、なるべくコードに近いものにしたい。</li>
  <li>設計書の内容に合わせて、作成に使うアプリケーションは積極的に変えたい。</li>
</ul>
<h2 id="保守担当者として思うこと"><a class="header-link" href="#保守担当者として思うこと"><span class="header-link-mark"></span></a>保守担当者として思うこと</h2>
<p>自分が着任するより前から、ドキュメントがロクに保守されていない状態で引き継いだ場合。</p>
<p>ドキュメントと実コードは乖離しており、問い合わせがあるとドキュメントより先にコードを開いてしまう。ドキュメントを開いても信用ならない、タメになる情報が書かれていない。</p>
<p>ドキュメントを直そうにも、誤り・足りないものが多く直しきれない。そもそものドキュメントのフォーマットが悪く、フロントエンドの処理とバックエンドの処理が一箇所に混在して記述されていたり、外部設計と内部設計がぐちゃぐちゃに混ざっていて抜け漏れが多かったり。</p>
<p>保守・開発者のためにもならず、当然顧客のためにもなっていない。</p>
<p>それでいてそんな現状を理解していながら、ドキュメントを作り直す工数を上長はよこさず。工数を与えていないということは「その仕事はしてはいけない」になるので、勝手に直そうとしていると止めろと注意される。それなのに「ダメなところはなんとかせい」とだけ言い残して去っていく。</p>
<h2 id="開発時は必要だったのだろうか"><a class="header-link" href="#開発時は必要だったのだろうか"><span class="header-link-mark"></span></a>開発時は必要だったのだろうか</h2>
<p>さて、これらの資料、一から開発する時は必要だったのだろうか。それも怪しい。</p>
<p>「テーブル定義 : 1人日」「○○画面の処理定義 : 2人日」など、共通設計がないまま適当に画面単位で担当割りをされ、書かされることになった文書を書くには、先に実装が終わっていないと書けないことが多い。というか、その文書を書こうとする間に実装すればそれだけで事足りるような詳細度で、結局は裏でこっそり実装を済ませてからそれを日本語訳して提出したりしている。</p>
<p>何でこんな文書が必要なのか上長に聞いても、「実装より前に設計するのが普通だから」という、未だにウォーターフォール・モデルを盲信している日本の SE の典型的な根拠のない回答しか返ってこない。では、顧客に提出する文書なのかというと、顧客は「画面サンプルしか要らない」というので、顧客も必要としていない文書だ。ただし、顧客は「設計書の作成状況はどうだ？」と常に聞いてくる。読みもしないのに。</p>
<p>サラッと書いたけど「共通設計がない」というのは、共通設計という概念自体がまずないらしく、業務を整理する工程も取られていない。UML は誰も読み書きできない。</p>
<h2 id="その資料必要な人がいないのでは"><a class="header-link" href="#その資料必要な人がいないのでは"><span class="header-link-mark"></span></a>その資料、必要な人がいないのでは？</h2>
<p>開発時も裏では実装が終わったところから書いていて、顧客は処理定義書なんて読まなくて、保守段階もメンテナンスする工数がもらえないので修正がなされず、段々とコードだけ変わっていくので保守担当者は読まなくなる。上長はこれまでの開発工程の形式から必要な成果物の一種として書けと命令しているが、上長がそれでシステムや開発工程をできているわけではなく、UML も知らない程度の設計知識しかなく、当然コードも読み書きできないので、フォントサイズが揃っているかどうかぐらいしか見ていなかったりする。</p>
<p>結局のところ、<strong>そんな設計書、現場では誰も必要としていない。</strong></p>
<h2 id="それでも作らされる理由"><a class="header-link" href="#それでも作らされる理由"><span class="header-link-mark"></span></a>それでも作らされる理由</h2>
<p>会社の上の方の人間が、「現場の詳しいことや最近の技術のことを知るつもりはないが、これまでどおりウォーターフォールモデルとやらに沿って仕事をするなら、こういう設計書が出て来るはずだろう、その数字を報告しろ」とだけ言い残して丸投げするからだろう。</p>
<p>そんなもの作っても無駄でしかないですよ、と説明しても、<strong>詳しいこと・新しいことは知る気がない連中</strong>なので、いつまでも古いやり方が変わらない。</p>
<h2 id="昔はウォーターフォールモデルに沿って設計書を書く必要があったのか"><a class="header-link" href="#昔はウォーターフォールモデルに沿って設計書を書く必要があったのか"><span class="header-link-mark"></span></a>昔はウォーターフォール・モデルに沿って設計書を書く必要があったのか？</h2>
<p>多分、昔は設計書が先に必要だったのだと思う。極端な話、パソコンを使わない場面では、先に設計書を作り、設計書どおり寸分違わずにモノを作ることが求められたと思う。建築などはモロにそうだろう。</p>
<p>システム開発にしても、コンピュータがまだパンチカードで動いていた頃、パソコンが非力だった頃は、可能な限り紙の上で設計をしておいて、1回打ち込んだら完璧なモノが出来上がる状態にまでしておかないと、コンピュータの実行コストがかかって仕方なかったのだろう。</p>
<p>しかし、それも20世紀までの話。今はコンパイルもサクサク行えるし、エディタは進化していて爆速開発できる。繰り返しコンパイルして自動テストをして、ということがやりやすい。だからこそ、「先にこういう動きをするはず、というテストを書いておいて、それからコーディングしましょう」というテスト・ファーストな考え方ができてきたのだと思う。</p>
<h2 id="ドキュメントが全て要らないワケではない"><a class="header-link" href="#ドキュメントが全て要らないワケではない"><span class="header-link-mark"></span></a>ドキュメントが全て要らないワケではない</h2>
<p>さて、テストファーストとはいえ、「何を実装しようか」という話ができていないと、チームでのシステム開発はできない。</p>
<p>何を作るか、という話は、要件定義であり、それがまとまると「概要設計書」が出来上がるわけだ。ここまでは変わらず必要だと思う。</p>
<p>ただ、この間にある「<em>業務の整理</em>」が下手糞で、ココで UML 等を使った<em>概念化</em>をしていないことが日本の SE はほとんど。誰のどんな業務を、どういう風に改善するのか、という目的を明らかにできていないまま、何やら概要設計書の体裁をまとった意味不明な文書が出来上がっているのだ。</p>
<p>また、そこから先、扱う概念をどういうデータの形式にしていくか、という<em>モデル設計</em>や、データの受け渡し方やコーディング規約などを決める<em>共通設計</em>がされていない場合がほとんどだ。ココの設計・設計書が欠けているのにその先の詳細だけ考えても、方式がバラついて仕方ない。</p>
<p>あとは画面周りに関しては<em>ワイヤーフレームとモックアップ</em>があるべきだと思うが、日本の SE はフロントエンドを軽視しているので、理解しようともしないまま「自分がよく知らないものは採用しない」と決めつけて成果物の中に入れない。だから、日本の SE が作るシステムはフロントエンドでのバグが多い。特に JavaScript の言語仕様を Java と同じようなものだと勘違いして起こすバグがとんでもなく多い。</p>
<p>ここから先は、実装とほとんど変わらないものになってくると思うので、コードとドキュメンテーションコメントで管理すれば良い。ドキュメンテーションコメントだけでは分かりにくい、という場合は、業務の整理ができていなくて、ユースケース図やシーケンス図が足りていない場合だと思う。</p>
<h2 id="悪いのは誰だ"><a class="header-link" href="#悪いのは誰だ"><span class="header-link-mark"></span></a>悪いのは誰だ？</h2>
<p>ここまでの登場人物、みんなそれぞれに悪いところがある。</p>
<ul>
  <li>プロジェクトマネージャー以上の管理者
    <ul>
      <li>なんとなく管理している気になりたいがためだけに、適当に数字化しやすいものを部下にやらせている。これが無駄。</li>
      <li>その開発プロジェクトの目的が何で、その状態になっていることが分かる指標値を最初に考えれば良い。毎回同じ名前の設計書ができるはずがない。</li>
    </ul>
  </li>
  <li>システム開発を軽視している顧客
    <ul>
      <li>読まない設計書を、書いているかどうかだけは確認する、無意味なことをしない。</li>
      <li>何を作って欲しいのか、要件定義はそちらが主体で行うこと。システム化方針はこちらが真剣に考えるので、「システム化できること」「システム化できないこと = するとまずそうなこと」を分別できる知能を持つこと。</li>
    </ul>
  </li>
  <li>作らされている設計書に疑問を持たない担当者
    <ul>
      <li>誰の・何のために作っているのかも分からないまま、言われたままに書いているヤツ。疑って声を上げる人間がいないからおかしなことがまかり通る。</li>
      <li>目的意識がないから出来上がるものは余計に支離滅裂。書くならせめてまともな日本語で書いて。</li>
    </ul>
  </li>
  <li>問題提起と説得が仕切れない僕
    <ul>
      <li>おかしいと思ってることをうまく伝えられていない。相手を説得しきれていない。</li>
      <li>「この会社の体質だから治すのは無理だな」と諦めて、不要な資料と分かりながら作ってしまっている。</li>
    </ul>
  </li>
</ul>
<h2 id="こういう思想を止めたら無駄な設計書は作られなくなる"><a class="header-link" href="#こういう思想を止めたら無駄な設計書は作られなくなる"><span class="header-link-mark"></span></a>こういう思想を止めたら無駄な設計書は作られなくなる</h2>
<ul>
  <li>「今までやってきたことを繰り返せばいい」という考え方。今まで炎上案件しか繰り返してきてないのに、改善方法を考えたりしない。</li>
  <li>形式を守ることが何より大事という考え方。順番どおりに・決まった形式のものを作ればいいと信じている。</li>
  <li>概念や哲学を考えようとしないこと。「システム屋なんだからそういう漠然とした話ではなくて詳細な設計を…」などと言いがちだが、漠然とさせたままにしないのが概念モデル化であり、流動的な環境の中で秩序を保つ術を考えるのがソフトウェア哲学だと思う。概念的・抽象的な考え方が出来ていないというのは詳細な話もできない状態だ。</li>
  <li>コードや英語に対する拒絶反応を持つ人間がシステムを作ろうとしていること。恥ずかしいので「コードとか分かんないから (ﾍﾗﾍﾗ」みたいなの止めたほうがいい。それただの無能じゃん帰れよ。</li>
  <li>それでいて日本語も不自由だから設計書も読み書きできていないが、母国語だからという理由だけで読み書きできた気になっていること。</li>
  <li>難しいことを簡潔に説明できる人間を欲しがること。複雑なものを複雑なまま理解する知性がないのであれば、こういう仕事に関わらないでほしい。</li>
</ul>
<p>結局のところ、技術力がない人間が技術屋のフリできてるのが日本の SE で、そのフリをするためにコードの日本語訳みたいな資料を部下に作らせて、何かあったらそれを読み上げることで難をしのごうとしているんだ。専門職に専門知識を持たない無能がわんさかいることが、Excel 方眼紙に繋がっている。</p><div class="ad-amazon">
  <div class="ad-amazon-image">
    <a href="https://www.amazon.co.jp/dp/479802175X?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">
      <img src="https://m.media-amazon.com/images/I/51LmiC5vthL._SL160_.jpg" width="109" height="160">
    </a>
  </div>
  <div class="ad-amazon-info">
    <div class="ad-amazon-title">
      <a href="https://www.amazon.co.jp/dp/479802175X?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">あなたはまだそんな「仕様書」を書いているんですか?</a>
    </div>
  </div>
</div>
<div class="ad-rakuten">
  <div class="ad-rakuten-image">
    <a href="https://hb.afl.rakuten.co.jp/hgc/g00s2852.waxycfef.g00s2852.waxydbe5/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbooksupply%2Fk58-1909-003997%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbooksupply%2Fi%2F10651497%2F">
      <img src="https://thumbnail.image.rakuten.co.jp/@0_mall/booksupply/cabinet/04216212/143/9784798021751.jpg?_ex=128x128">
    </a>
  </div>
  <div class="ad-rakuten-info">
    <div class="ad-rakuten-title">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00s2852.waxycfef.g00s2852.waxydbe5/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbooksupply%2Fk58-1909-003997%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbooksupply%2Fi%2F10651497%2F">USED【送料無料】あなたはまだそんな「仕様書」を書いているんですか? 宮古 環</a>
    </div>
    <div class="ad-rakuten-shop">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00s2852.waxycfef.g00s2852.waxydbe5/?pc=https%3A%2F%2Fwww.rakuten.co.jp%2Fbooksupply%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbooksupply%2F">ブックサプライ</a>
    </div>
    <div class="ad-rakuten-price">価格 : 2232円</div>
  </div>
</div>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2016-10-16</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2016-10-16</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
