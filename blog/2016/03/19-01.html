<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>Java : for 文の構文をもっかい考える - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2016/03/19-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2016/index.html">2016年</a></li>
            <li><a href="/blog/2016/03/index.html">03月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2016-03-19</time></div>
        <h1 id="page-title">Java : for 文の構文をもっかい考える</h1>

<p>Java における単純な for 文の構文をもっかいおさらいする。言語仕様的にできることを見直して、可能性を把握しておく。</p>
<h2 id="for-文の基本構文"><a class="header-link" href="#for-文の基本構文"><span class="header-link-mark"></span></a>for 文の基本構文</h2>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span> 初期化式 <span class="token punctuation">(</span>initialization<span class="token punctuation">)</span><span class="token punctuation">;</span> 条件式 <span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span> 継続式<span class="token punctuation">(</span>increment<span class="token operator">/</span>decrement<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 処理</span>
<span class="token punctuation">}</span>
</code></pre>
<p>これが基本構文。</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list<span class="token punctuation">;</span> <span class="token comment">// 要素がいっぱい入っているテイ</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>こんな for 文はよく見かけるだろう。</p>
<ul>
  <li>参考 : <a href="http://beginnersbook.com/2015/03/for-loop-in-java-with-example/">For loop in Java with example</a></li>
  <li>参考 : <a href="http://www.javadrive.jp/start/for/index2.html">for文 - 繰り返し処理 - Java入門</a></li>
</ul>
<p>for 文のカッコの中のセミコロンで区切られた3ヶ所は、それぞれ以下のような役割を持つ。</p>
<ul>
  <li><em>初期化式</em>部分で変数を初期化する</li>
  <li><em>条件式</em>部分に書かれた条件が true の間、for ブロック内の処理を繰り返す</li>
  <li><em>継続式</em>部分に書かれた処理は for ブロックの最後に辿り着いた時に行われる処理になる</li>
</ul>
<p>この3つが、<strong>3行のコードが記述できる特殊な場所</strong>、ということをよくよく考えると、変わったことができることに気が付く。</p>
<h2 id="初期化式を複数記述する"><a class="header-link" href="#初期化式を複数記述する"><span class="header-link-mark"></span></a>初期化式を複数記述する</h2>
<p>初期化式はカンマで区切って複数記述できる。たとえば先ほどの <code>List&#x3C;String></code> をループで回すサンプルに対し、初期化式を複数書くと、こうなる。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>list.size()</code> を <code>length</code> という int 型の変数に格納している。条件式部分も合わせてその <code>length</code> 変数を見るようにした。こうすると <code>list.size()</code> メソッドの呼び出し回数が減らせる。for ループの高速化テクニックとしてよく見かける部類に入ると思う (高速化の効果としてはたかが知れてるっぽい)。</p>
<p>無論、このサンプル程度の内容なら拡張 for 文 (for-each) の使用を検討した方が良いが、今回は拡張 for 文の話はしない。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="初期化式がなくてもいい"><a class="header-link" href="#初期化式がなくてもいい"><span class="header-link-mark"></span></a>初期化式がなくてもいい</h2>
<p>初期化式部分は、「初期化式」という名のとおり、セミコロンで文が終わるまで、カンマで区切って複数の変数に初期値を与えることができる。要するにさっきの例はこう書いても良い。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    length <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>何の式も書かない場合であっても、セミコロンの数は合ってないとダメ。</p>
<h2 id="初期化式は変数宣言を外出ししておけば型が違ってもいい"><a class="header-link" href="#初期化式は変数宣言を外出ししておけば型が違ってもいい"><span class="header-link-mark"></span></a>初期化式は変数宣言を外出ししておけば型が違ってもいい</h2>
<p>初期化式部分は変数の初期値宣言の行と同じ考え方ができる。ということは、どういう時に使えるかは分からないが、一応、こんなこともできる。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">double</span> j<span class="token punctuation">;</span>
<span class="token class-name">String</span> str<span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">5.5</span><span class="token punctuation">,</span> str <span class="token operator">=</span> <span class="token string">"Hoge"</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre>
<h2 id="条件式は複数条件組み合わせられる"><a class="header-link" href="#条件式は複数条件組み合わせられる"><span class="header-link-mark"></span></a>条件式は複数条件組み合わせられる</h2>
<p>初期化式が複数書けるところから想像できたかもしれないが、条件式も複数の条件を組み合わせられる。</p>
<p>これも良い例がないが、言語仕様上はこんなことができる。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token generics"><span class="token punctuation">&#x3C;</span> 5 <span class="token operator">&#x26;</span><span class="token operator">&#x26;</span> j <span class="token punctuation">></span></span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    j <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 出力結果 :</span>
<span class="token comment">// 0, 10</span>
<span class="token comment">// 1, 8</span>
<span class="token comment">// 2, 6</span>
</code></pre>
<p>条件式部分が true になる間だけループを繰り返すので、AND <code>&#x26;&#x26;</code> 条件で変数 <code>i</code> と <code>j</code> がそれぞれ5未満、4超えを満たす間だけループさせてみた。</p>
<h2 id="条件式を使って-break-っぽくループを抜けてみる"><a class="header-link" href="#条件式を使って-break-っぽくループを抜けてみる"><span class="header-link-mark"></span></a>条件式を使って <code>break</code> っぽくループを抜けてみる</h2>
<p>以下のような <code>break</code> を使ってループを抜けるような処理を、条件式部分を使ってやってみる。</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// list 中の要素に "DDD" が出てきたらループを抜けるサンプル</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"AAA"</span><span class="token punctuation">,</span> <span class="token string">"BBB"</span><span class="token punctuation">,</span> <span class="token string">"CCC"</span><span class="token punctuation">,</span> <span class="token string">"DDD"</span><span class="token punctuation">,</span> <span class="token string">"EEE"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"DDD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 実行結果 :</span>
<span class="token comment">// AAA</span>
<span class="token comment">// BBB</span>
<span class="token comment">// CCC</span>
</code></pre>
<p>条件式部分を使うと、こうなる。</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// list は上のサンプルと同じで</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">!</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"DDD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 実行結果 : 上に同じ</span>
</code></pre>
<p>条件式部分は、その式を boolean に変換でき、それが true である間だけループを回す継続条件になっているので、否定の論理演算子「<code>!</code>」で「"DDD" とイコールではない」間だけループさせるようにしている。</p>
<h2 id="条件式を使わないこともできるか"><a class="header-link" href="#条件式を使わないこともできるか"><span class="header-link-mark"></span></a>条件式を使わないこともできるか</h2>
<p>やっぱり <code>break</code> を使う構文に戻って考えてみると、有効利用できそうな機会が思いつかないが、条件式を空にすることもできる場合がある。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"DDD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>必ず <code>break</code> できる条件が用意できてないと無限ループか <code>IndexOutOfBoundsException</code> あたりになるだろうけど。</p>
<h2 id="やっぱり継続式も複数書ける"><a class="header-link" href="#やっぱり継続式も複数書ける"><span class="header-link-mark"></span></a>やっぱり継続式も複数書ける</h2>
<p>継続式は for ブロックの最後に行われる行が先頭に来ているもの、と思うと、色んなことができる。少し手前に出したサンプルを少し変えるとこんな感じ。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 出力結果 :</span>
<span class="token comment">// 0, 10</span>
<span class="token comment">// 1, 8</span>
<span class="token comment">// 2, 6</span>
<span class="token comment">// 3, 4</span>
<span class="token comment">// 4, 2</span>
</code></pre>
<p>意味分かんないコードだけどこんなこともできる。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token class-name">String</span> str<span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> str <span class="token operator">=</span> <span class="token string">""</span> <span class="token operator">+</span> i<span class="token punctuation">;</span> i <span class="token operator">&#x3C;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> str <span class="token operator">=</span> str <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 実行結果 :</span>
<span class="token comment">// 1 : 1</span>
<span class="token comment">// 2 : 1 2</span>
<span class="token comment">// 3 : 1 2 3</span>
<span class="token comment">// 4 : 1 2 3 4</span>
<span class="token comment">// 5 : 1 2 3 4 5</span>
</code></pre>
<h2 id="やっぱり継続式がなくてもいい"><a class="header-link" href="#やっぱり継続式がなくてもいい"><span class="header-link-mark"></span></a>やっぱり継続式がなくてもいい</h2>
<p>継続式を使わずに while 文チックに書いてみたり。</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// list の要素を最後から順に表示</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">--</span>i<span class="token punctuation">;</span> <span class="token comment">// デクリメント</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="インクリメントやデクリメントをしない継続式"><a class="header-link" href="#インクリメントやデクリメントをしない継続式"><span class="header-link-mark"></span></a>インクリメントやデクリメントをしない継続式</h2>
<pre class="language-java"><code class="language-java"><span class="token class-name">Random</span> rnd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> rnd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">=</span> rnd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>Random#nextInt()</code> は、「0」から「引数に与えた数値 - 1」までの数値をランダムに返すメソッド。<code>nextInt(10)</code> とすれば、0 から 9 のいずれかの数値が返される。</p>
<p>これを利用し、継続式部分でランダムな数値を生成させてみた。結果は「2, 6, 4, 5, 5, 3, 8, …」などランダムな数値が出力され、条件式に合わない <code>0</code> が出てきた時に終了する。</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">Random</span> rnd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i  <span class="token operator">=</span> rnd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         i <span class="token operator">!=</span> rnd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         i  <span class="token operator">=</span> rnd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>こうすれば条件式に何が設定されたか分からないから、どの値が出るとループを終了するのかも分からなくなる。意味はない。</p>
<h2 id="もう-for-文を使わないあるいは-for-文のそれぞれの式の役割を見直す"><a class="header-link" href="#もう-for-文を使わないあるいは-for-文のそれぞれの式の役割を見直す"><span class="header-link-mark"></span></a>もう for 文を使わない・あるいは for 文のそれぞれの式の役割を見直す</h2>
<p>初期化式、条件式、継続式の役割が分かったところで、いずれの式も使わない for ループを作ってみる。</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初期化式</span>
<span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 条件式</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 継続式</span>
<span class="token punctuation">}</span>
</code></pre>
<p>条件式は継続条件ではなく終了条件として記述しているが、基本的にこういうこと。for 文の式が使われなくて、心なしか泣いているように見える…。<code>( ; ; )</code></p>
<p>しかしこれでとりあえず、for 文のカッコの中にどんなことが書けるのか、今までとちょっと違う理解の仕方ができた気がする。</p>
<ul>
  <li>参考 : <a href="http://www.javadrive.jp/start/for/index4.html">複数の初期化式と変化式 - 繰り返し処理 - Java入門</a></li>
</ul>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2016-03-19</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2016-03-19</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
