<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <!-- Open Graph・Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Neo's World">
    <meta property="og:title" content="Git と GitHub を始める : リポジトリの作成と初めてのコミット - Neo's World">
    <meta property="og:description" content="Git と GitHub を始める : リポジトリの作成と初めてのコミット - Neo's World">
    <meta property="og:url" content="https://neos21.net/blog/2016/02/03-01.html">
    <meta property="og:image" content="https://neos21.net/ogp.png">
    <meta property="og:locale" content="ja_JP">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Git と GitHub を始める : リポジトリの作成と初めてのコミット - Neo's World">
    <meta property="twitter:description" content="Git と GitHub を始める : リポジトリの作成と初めてのコミット - Neo's World">
    <meta property="twitter:url" content="https://neos21.net/blog/2016/02/03-01.html">
    <meta property="twitter:image" content="https://neos21.net/ogp.png">
    <title>Git と GitHub を始める : リポジトリの作成と初めてのコミット - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2016/02/03-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script src="/scripts.js"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-theme"><a href="#" title="Toggle Theme"><span>Toggle Theme</span></a></li>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2016/index.html">2016年</a></li>
            <li><a href="/blog/2016/02/index.html">02月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2016-02-03</time></div>
        <h1 id="page-title">Git と GitHub を始める : リポジトリの作成と初めてのコミット</h1>

<p>書籍「GitHub 実践入門」の「3.2 実際に使ってみよう」を参考に、リポジトリを作る。ここでは、ドットインストールを見ながら書いた Ruby スクリプトファイルを GitHub にコミットしてみる。</p>
<h2 id="github-上でリポジトリを作成する"><a class="header-link" href="#github-上でリポジトリを作成する"><span class="header-link-mark"></span></a>GitHub 上でリポジトリを作成する</h2>
<p>GitHub の画面右上の「+」印から「Create a new repository」に進み、適当なリポジトリ名を付ける。</p>
<p>「Initialize this repository with a README」は、チェックを入れると <code>README.md</code> というファイルを置いた状態でリポジトリが作られる。このファイルがあると、GitHub でリポジトリを開いたときにファイル一覧の下に Markdown 形式で表示してくれる。リポジトリの説明文とかを書くために置いておくと便利なのでチェックを付けるのをオススメ。</p>
<p>今回はお勉強のため、「Add .gitignore: None」「Add a license: None」のまま、「Create repository」ボタンを押す。</p>
<p>僕は今回、ドットインストールの「Ruby 入門」を見ながら書いた Ruby スクリプトを置いていきたいので、リポジトリ名は「DotInstallRuby」とした。すると以下のような URL が生成され、リポジトリが作成される。</p>
<ul>
  <li><a href="https://github.com/Neos21/practice-dot-install-ruby">https://github.com/Neos21/practice-dot-install-ruby</a> (途中でリポジトリ名を <code>practice-dot-install-ruby</code> に変更)</li>
</ul>
<h2 id="git-clone-で-github-上のリポジトリをローカルに複製する"><a class="header-link" href="#git-clone-で-github-上のリポジトリをローカルに複製する"><span class="header-link-mark"></span></a><code>git clone</code> で GitHub 上のリポジトリをローカルに複製する</h2>
<p>まずは GitBash より、<code>cd</code> コマンドでリポジトリを置くフォルダに移動する。パスの区切りは Windows のバックスラッシュではダメで、スラッシュで入力する。</p>
<p>以下は <code>D:\Dev\</code> フォルダに移動するサンプル。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> D:/Dev/
</code></pre>
<p>そうそう、<code>$</code> というのはコンソールに表示されてる記号で、コマンドを入力した行を表現するために付けている。<code>$</code> がない行は入力したコマンドに対する結果がターミナルに表示されているってこと。超初心者向けザックリ解説おわり。</p>
<p>そしたら上の「DotInstallRuby」リポジトリのページから「HTTPS ▼」の右側に書かれている「HTTPS Clone URL」をコピーして、以下のように <code>git clone</code> コマンドを打つ。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/Neos21/DotInstallRuby.git

<span class="token punctuation">(</span>とコマンドを打つと、以下のように経過や結果がターミナルに出力される<span class="token punctuation">)</span>

Cloning into <span class="token string">'DotInstallRuby'</span><span class="token punctuation">..</span>.
remote: Counting objects: <span class="token number">3</span>, done.
remote: Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">2</span>/2<span class="token punctuation">)</span>, done.
remote: Total <span class="token number">3</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, pack-reused <span class="token number">0</span>
Unpacking objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">3</span>/3<span class="token punctuation">)</span>, done.
Checking connectivity<span class="token punctuation">..</span>. done.
</code></pre>
<p>これで <code>D:\Dev\</code> フォルダ配下に「DotInstallRuby」フォルダが作成され、GitHub のリポジトリをローカルに複製 (Clone) できた。</p>
<p>このフォルダに <code>cd</code> で移動すると、プロンプト部分のパスの後に <code>(master)</code> とブランチ名が表示される。</p>
<h2 id="gitignore-で同期対象外ファイルを設定する"><a class="header-link" href="#gitignore-で同期対象外ファイルを設定する"><span class="header-link-mark"></span></a>.gitignore で同期対象外ファイルを設定する</h2>
<p>リポジトリを複製した「DotInstallRuby」フォルダに、作っていたソース「Lesson1.rb」と、メモ書きをしていたテキストファイル「Memo.txt」を配置する。</p>
<p>コミット等の際に、「Lesson1.rb」は同期させたいが、「Memo.txt」は同期させたくないので、「<em>.gitignore</em>」という設定ファイルを作って、同期させたくないファイルを指定する。</p>
<p><code>touch</code> コマンドはタイムスタンプを変更するコマンドだが、存在しないファイル名を指定すると0バイトのファイルが作れるので、これで空のファイルを生成する。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">touch</span> .gitignore
</code></pre>
<p>作成した .gitignore をテキストエディタで開いて、以下のように書いて保存。</p>
<pre class="language-gitignore"><code class="language-gitignore"><span class="token comment"># Memo.txt は無視する (この行はコメントアウト)</span>
<span class="token entry string">Memo.txt</span>
</code></pre>
<p>その後、<code>git status</code> コマンドでフォルダ内に追加されたファイルを確認する。</p>
<pre class="language-bash"><code class="language-bash">/d/Dev/dotinstallruby <span class="token punctuation">(</span>master<span class="token punctuation">)</span>
$ <span class="token function">git</span> status

On branch master
Your branch is up-to-date with <span class="token string">'origin/master'</span><span class="token builtin class-name">.</span>
Untracked files:
<span class="token punctuation">(</span>use <span class="token string">"git add &#x3C;file>..."</span> to include <span class="token keyword">in</span> what will be committed<span class="token punctuation">)</span>

.gitignore
Lesson1.rb

nothing added to commit but untracked files present <span class="token punctuation">(</span>use <span class="token string">"git add"</span> to track<span class="token punctuation">)</span>
</code></pre>
<p><code>git add</code> してないファイルが2つあるよー、と出ているが、同フォルダに置いてあるはずの「Memo.txt」は表示されておらず、ちゃんと無視されていることが分かる。</p>
<p><code>git status</code> は状況確認のためによく使う。<em>今このリポジトリがどういう状態なのかを見るには <code>git status</code> である。</em></p>
<h2 id="コミットしていく"><a class="header-link" href="#コミットしていく"><span class="header-link-mark"></span></a>コミットしていく</h2>
<p>Git のコミットに関する考え方は SVN などとは少し違い、<em><code>git add</code> コマンドでコミットする対象ファイルを追加し、それから <code>git commit</code> コマンドで初めてコミットする</em>、という手順を取る。</p>
<p>まずは .gitignore を追加し、コミットしてみる。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .gitignore

$ <span class="token function">git</span> commit -m <span class="token string">"First Commit. Add .gitignore file."</span>

<span class="token punctuation">[</span>master 0c000f0<span class="token punctuation">]</span> First Commit. Add .gitignore file.
<span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">4</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
create mode <span class="token number">100644</span> .gitignore
</code></pre>
<p><code>git commit</code> の <code>"First Commit. Add .gitignore file."</code> はコミットコメント。好きに打っていい。日本語を入れても大丈夫だけど、なんとなく英語でカッコつけたいお年頃でしたので…。</p>
<p>そうそう、Git のコミットコメントは、</p>
<ul>
  <li>1行目の文末にピリオドを打たない</li>
  <li>2行目は空白にする</li>
  <li>3行目から詳細を書く</li>
</ul>
<p>という暗黙のルールがある。破っても別になんともないけど、とりあえず従っておきたい (上の例ではこれを知らずにピリオド付けちゃってる <code>;(</code>)。</p>
<p>コミットされたかどうかは <code>git log</code> で確認できる。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log

commit 0c000f11f880b3b7fe2d40bca1c73ed38eef7be0
Author: Neos21 <span class="token operator">&#x3C;</span>mail@mail.com<span class="token operator">></span>
Date: Wed Jan <span class="token number">13</span> <span class="token number">23</span>:05:54 <span class="token number">2016</span> +0900

First Commit. Add .gitignore file.

commit 91a00000b7fbed13d81db0994b5b0649765d1e4f
Author: Neos21 <span class="token operator">&#x3C;</span>mail@mail.com<span class="token operator">></span>
Date: Wed Jan <span class="token number">13</span> <span class="token number">22</span>:41:54 <span class="token number">2016</span> +0900

Initial commit
</code></pre>
<p>確かにコミットされている。なお、「Initial commit」の方は GitHub でリポジトリ作成時に自動的に付けられたコミット。</p>
<p>次に、Lesson1.rb も Add して Commit してみる。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> Lesson1.rb

$ <span class="token function">git</span> commit -m <span class="token string">"初の Ruby コードです。"</span>
</code></pre>
<p>ちなみに、ここまでバカ正直に <code>git add</code> の後ろにファイル名を書いてきたが、<code>git add .</code> とすると、その時そのリポジトリ上で差分がある全てのファイルを Add できる。</p>
<p>なお、ファイルの新規追加の時も、既存ファイルの内容を更新した時も、<code>git add</code> である。</p>
<h2 id="github-に差分を送信する"><a class="header-link" href="#github-に差分を送信する"><span class="header-link-mark"></span></a>GitHub に差分を送信する</h2>
<p><code>git push</code> で、GitHub にリポジトリにこのコミット内容、すなわち差分を送信できる。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> push

warning: push.default is <span class="token builtin class-name">unset</span><span class="token punctuation">;</span> its implicit value has changed <span class="token keyword">in</span>
Git <span class="token number">2.0</span> from <span class="token string">'matching'</span> to <span class="token string">'simple'</span><span class="token builtin class-name">.</span> To squelch this message
and maintain the traditional behavior, use:

<span class="token function">git</span> config --global push.default matching

To squelch this message and adopt the new behavior now, use:

<span class="token function">git</span> config --global push.default simple

When push.default is <span class="token builtin class-name">set</span> to <span class="token string">'matching'</span>, <span class="token function">git</span> will push <span class="token builtin class-name">local</span> branches
to the remote branches that already exist with the same name.

Since Git <span class="token number">2.0</span>, Git defaults to the <span class="token function">more</span> conservative <span class="token string">'simple'</span>
behavior, <span class="token function">which</span> only pushes the current branch to the corresponding
remote branch that <span class="token string">'git pull'</span> uses to update the current branch.

See <span class="token string">'git help config'</span> and search <span class="token keyword">for</span> <span class="token string">'push.default'</span> <span class="token keyword">for</span> further information.
<span class="token punctuation">(</span>the <span class="token string">'simple'</span> mode was introduced <span class="token keyword">in</span> Git <span class="token number">1.7</span>.11. Use the similar mode
<span class="token string">'current'</span> instead of <span class="token string">'simple'</span> <span class="token keyword">if</span> you sometimes use older versions of Git<span class="token punctuation">)</span>
</code></pre>
<p>なんか注意書きが色々出てくるが、ココで「Open SSH」とかいうダイアログが出てきて、GitHub のユーザ名とパスワードを聞かれる。素直に入力。</p>
<p>するとコンソールにこんな表示が…</p>
<pre class="language-bash"><code class="language-bash">Counting objects: <span class="token number">6</span>, done.
Delta compression using up to <span class="token number">4</span> threads.
Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">6</span>/6<span class="token punctuation">)</span>, done.
Writing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">6</span>/6<span class="token punctuation">)</span>, <span class="token number">969</span> bytes <span class="token operator">|</span> <span class="token number">0</span> bytes/s, done.
Total <span class="token number">6</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>
To https://github.com/Neos21/DotInstallRuby.git
92a0000<span class="token punctuation">..</span>90c9b00 master -<span class="token operator">></span> master
</code></pre>
<p>どうやらできたらしい。</p>
<p>GitHub 上でも表示を確認。ローカルの変更が反映されている。やったー！</p>
<p>以上でリポジトリの作り方と初めてのコミットまでは終わり。</p>
<h2 id="まとめ"><a class="header-link" href="#まとめ"><span class="header-link-mark"></span></a>まとめ</h2>
<ol>
  <li>GitHub でリポジトリを新規作成</li>
  <li><code>git clone (Clone URL)</code> でローカルにリポジトリを複製</li>
  <li>(ファイルを追加したり更新したり)</li>
  <li><code>git status</code> でリポジトリ内の差分状況などを確認</li>
  <li><code>git add (ファイル名)</code> でファイルをコミット対象に設定</li>
  <li><code>git commit -m "(コメント)"</code> でコミットする</li>
  <li><code>git log</code> でコミットの履歴を確認</li>
  <li><code>git push</code> で GitHub に差分を送信する</li>
</ol>
<p>今回はブランチを分けてもいないし、「こういう場合はどうしたら？」といったことは全部無視、各コマンドのオプションも使いこなしていないので、まだまだ初歩も初歩。でもとりあえずここまでで、GitHub にソースを置くための基本形を学ぶことができた。</p>
<p>ところで、GitBash のデフォルトのフォントは Lucida Console とかいうヤツになってて、日本語がちっちゃくなっちゃうので、<code>MeiryoKe_Gothic</code> にしてみた。良い感じ。</p>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2016-02-03</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2016-02-03</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
