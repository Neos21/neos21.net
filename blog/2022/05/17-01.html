<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>ゆっくりボイスの SofTalk を CLI から使う - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2022/05/17-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script src="/scripts.js"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-theme"><a href="#" title="Toggle Theme"><span>Toggle Theme</span></a></li>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2022/index.html">2022年</a></li>
            <li><a href="/blog/2022/05/index.html">05月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2022-05-17</time></div>
        <h1 id="page-title">ゆっくりボイスの SofTalk を CLI から使う</h1>

<p>ゆっくりしていってね！</p>
<h2 id="目次"><a class="header-link" href="#目次"><span class="header-link-mark"></span></a>目次</h2>
<ul>
  <li><a href="#%E3%82%86%E3%81%A3%E3%81%8F%E3%82%8A%E3%83%9C%E3%82%A4%E3%82%B9%E3%81%AB%E8%88%88%E5%91%B3%E3%83%8B%E3%82%AD">ゆっくりボイスに興味ニキ</a></li>
  <li><a href="#%E3%82%86%E3%81%A3%E3%81%8F%E3%82%8A%E3%83%9C%E3%82%A4%E3%82%B9%E3%81%AE%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E3%81%A8%E9%96%A2%E9%80%A3%E3%83%95%E3%83%AA%E3%83%BC%E3%82%BD%E3%83%95%E3%83%88">ゆっくりボイスのライセンスと関連フリーソフト</a></li>
  <li><a href="#softalk-%E3%82%92-cli-%E3%81%8B%E3%82%89%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99">SofTalk を CLI から呼び出す</a></li>
</ul>
<h2 id="ゆっくりボイスに興味ニキ"><a class="header-link" href="#ゆっくりボイスに興味ニキ"><span class="header-link-mark"></span></a>ゆっくりボイスに興味ニキ</h2>
<p>YouTube で<strong>ゆっくり解説</strong>動画を見るようになって久しい。政治や軍事系、時事ネタには全く興味がないので、僕が見ているのは PC、健康、科学、宇宙、歴史系のチャンネルが多い。あとは「クソゲー発掘隊」や「Backrooms 解説」系、GTAV の実況もちょっと見たりするかな。</p>
<p>念のため「ゆっくり解説」とは何か説明しておくと、</p>
<ol>
  <li>「<a href="https://ja.wikipedia.org/wiki/%E6%9D%B1%E6%96%B9Project">東方 Project</a>」というシューティングの同人ゲームがある (1996年頃より)</li>
  <li>それに登場するキャラクターを利用した「<a href="https://ja.wikipedia.org/wiki/%E3%82%86%E3%81%A3%E3%81%8F%E3%82%8A%E3%81%97%E3%81%A6%E3%81%84%E3%81%A3%E3%81%A6%E3%81%AD!!!">ゆっくりしていってね!!!</a>」という AA・ミーム・派生キャラクターが2ちゃんねる掲示板を中心に誕生・発展する (2007・2008年頃より)</li>
  <li>「<a href="https://ja.wikipedia.org/wiki/M.U.G.E.N">MUGEN</a>」という同人格闘ゲームに「ゆっくり」派生キャラが登場し、その際に「<a href="https://www.a-quest.com/">AquesTalk</a>」ライブラリによる合成音声が当てがわれ「ゆっくりのキャラ = AquesTalk の合成音声ボイス」というイメージが定着する</li>
  <li>以後、ゲーム実況や解説動画に「ゆっくりのキャラ画像」と「AquesTalk によるボイス」を利用した「ゆっくり実況」「ゆっくり解説」といった動画が発展してきた</li>
</ol>
<p>…という流れである。と言いながら、僕は東方も MUGEN も全然知らなかったので、今調べながら書いたｗ。要は同人ゲームに登場するキャラクターを元にした三次派生ぐらいのミームである。</p>
<p>ココ最近は動画クリエイター達がこの「ゆっくり」を活用していて、YouTube で爆発的にゆっくり動画が増えている。作者本人の顔や声を晒さなくても良いという点や、キャラ・音声ともに権利関係が整理されてきているので、匿名性を多少保ったまま収益化を狙えるようだ。ただ、YouTube 側からは「自動生成された価値の低いコンテンツ」とみなされて収益化を剥奪されることも多いようで、収益化が難しい側面もあるらしい。</p>
<p>…さて、僕は完全に見る専で詳しいことは知らないのだが、ゆっくりのボイスはどの動画でも同じボイスであるために安定して聞けて、ラジオ感覚で流すにはもってこいなのである。そこで、<em>できれば自分でも任意のテキストをゆっくりボイスで読み上げさせたりしてみたいなー</em>と思ったのが、今回の話。</p>
<h2 id="ゆっくりボイスのライセンスと関連フリーソフト"><a class="header-link" href="#ゆっくりボイスのライセンスと関連フリーソフト"><span class="header-link-mark"></span></a>ゆっくりボイスのライセンスと関連フリーソフト</h2>
<p>ゆっくりボイスの大元は、前述のとおり「<strong>AquesTalk</strong>」という合成音声ライブラリ、古い言い方をすれば「Text-To-Speech」のライブラリである。大きく分けてバージョン1・2・10の3種類が存在しており、制限つきのフリーの評価版であれば、AquesTalk ライブラリを公式サイトから直接ダウンロードして利用できる。</p>
<ul>
  <li><a href="https://www.a-quest.com/">超小型・最軽量 音声合成エンジン | 株式会社アクエスト</a></li>
</ul>
<p>ただ、「ライブラリ」というだけあって、ダウンロードできるのは <code>.dll</code> ファイルだったりする。実際に発話させるにはこのライブラリを呼び出すためのプログラミングをしないといけない。</p>
<p>そこで、手軽に喋らせるためによく使われるのが、この「AquesTalk」のライブラリを内包した、<em>「棒読みちゃん」や「SofTalk」といったフリーソフト</em>である。</p>
<ul>
  <li><a href="https://chi.usamimi.info/Program/Application/BouyomiChan/">棒読みちゃん - ダウンロード（音声合成で日本語文章を読み上げ）</a></li>
  <li><a href="https://w.atwiki.jp/softalk/pages/15.html">ダウンロード - SofTalk - atwiki（アットウィキ）</a></li>
</ul>
<p>「棒読みちゃん」は、旧ライセンス形態の AquesTalk 1 系を内包している。</p>
<p>「SofTalk」の方は、旧ライセンスの AquesTalk 1 の他、2、10 系も内包しており、より多くの種類で発話させられる。</p>
<p>ちなみに、「ゆっくり動画」の製作に特化した「ゆっくり Movie Maker」なるソフトもあるようだ (使ったことないが)。</p>
<ul>
  <li><a href="https://manjubox.net/ymm4/">ゆっくりMovieMaker4 | 饅頭遣いのおもちゃ箱</a></li>
</ul>
<h2 id="softalk-を-cli-から呼び出す"><a class="header-link" href="#softalk-を-cli-から呼び出す"><span class="header-link-mark"></span></a>SofTalk を CLI から呼び出す</h2>
<p>「棒読みちゃん」と「SofTalk」はそれぞれコマンドラインからの呼び出しができるようで、今回は <strong>SofTalk を Windows コマンドプロンプト・PowerShell から呼び出して使ってみた。</strong></p>
<ul>
  <li>参考 : <a href="https://twitter.com/mc_hum/status/759307529268584452">mcハムさんはTwitterを使っています: 「外部アプリケーションの読み上げが使えるようなので棒読みちゃん使ってみる。調べた所、棒読みちゃんのフォルダに同梱されているRemoteTalk.exeを指定し、コマンドラインには /Talk "%t" と入れると喋るらしい #千恋万花 https://t.co/bwwG8wejfk」 / Twitter</a>
    <ul>
      <li>棒読みちゃんのコマンドライン呼び出しについてはコチラ</li>
    </ul>
  </li>
</ul>
<p>まずは公式サイトより SofTalk 本体をダウンロードし、任意の場所に配置しておく。</p>
<ul>
  <li><a href="https://w.atwiki.jp/softalk/pages/15.html">ダウンロード - SofTalk - atwiki（アットウィキ）</a></li>
</ul>
<p>まずは <code>SofTalk.exe</code> を普通に起動し、ソフト自体が正常に使えることを確認しておこう。</p>
<p>そしたらコマンドプロンプトもしくは PowerShell を開き、<code>SofTalk.exe</code> が存在するディレクトリに移動し、次のように実行する。</p>
<pre class="language-batch"><code class="language-batch">.\SofTalk.exe /x:1 /w:やあ
.\SofTalk.exe /close_now
</code></pre>
<p>1行目で発話し、2行目でプロセスを終了している。</p>
<p>1行目は <code>/x:1</code> でウィンドウを非表示にし、<code>/w:</code> 以降で指定した文字列を読み上げさせている。声質の設定や読み上げ速度の設定などもオプションでできるので、詳しくは SofTalk のヘルプファイル (<code>help.chm</code>) を見てみてほしい。他のオプションを指定する際、<code>/w:</code> オプションを最後に書かないと、オプションの文字列まで読み上げられてしまうことに注意。</p>
<p>SofTalk をコマンドラインから呼び出すと、<code>SofTalk.exe</code> のプロセスがバックグラウンドに残りっぱなしになる。いくつか続けて発話させる場合は、1行目相当のコマンドを複数回叩けばよく、<code>SofTalk.exe</code> のプロセスは1つだけで動作し続ける (複数起動することはない)。</p>
<p>しかし逆に、<code>SofTalk.exe</code> プロセスは自動的に終了することはないため、2行目の <code>/close_now</code> オプション指定によりプロセスを終了させている。1回だけ発話させて終わる場合は、この2つのコマンドを連続して叩けばよいだろう。<em>コマンドを1つにまとめて発話→プロセス終了を1回で行うことはできない</em>ので注意。</p>
<p>GitBash (Git SDK) からも呼び出してみたかったのだが、1行目のコマンドを <code>cmd /c</code> で呼び出したあと、プロンプトが戻ってこなくてうまくいかなかった。</p>
<p><code>SofTalk.exe</code> さえ呼び出せれば発話させられることが分かったので、WSH で <code>Call</code> してみたりとか、Node.js の <code>child_process.exec</code> のような外部プロセス呼び出しを使えば、プログラム中から実行できそうだ。</p>
<ul>
  <li>参考 : <a href="https://toyama-rt.github.io/how_to_make/How_to_make_TIPS_6.html">富山県高志リハビリ病院 しゃべる文字盤のつくりかた TIPS 第6回</a>
    <ul>
      <li>WSH (VBScript) で <code>SofTalk.exe</code> を呼び出しているコード例がある</li>
    </ul>
  </li>
  <li>参考 : <a href="https://qiita.com/Mechanetai/items/6bdc2710d3a507703ef1">ゆっくりに青空文庫を読んでもらう - Qiita</a></li>
  <li>参考 : <a href="https://qiita.com/Mechanetai/items/f3e1b58f8c5549e2f31b">ゆっくりに青空文庫を読んでもらう: もっと精確に - Qiita</a>
    <ul>
      <li>Python より <code>SofTalk.exe</code> を呼び出しているコード例</li>
    </ul>
  </li>
</ul>
<p>今回は以上。</p><div class="ad-rakuten">
  <div class="ad-rakuten-image">
    <a href="https://hb.afl.rakuten.co.jp/hgc/g00sjv32.waxycb1c.g00sjv32.waxyd711/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fgaragefield%2F10000024%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fgaragefield%2Fi%2F10000024%2F">
      <img src="https://thumbnail.image.rakuten.co.jp/@0_mall/garagefield/cabinet/05293259/imgrc0070829268.jpg?_ex=128x128">
    </a>
  </div>
  <div class="ad-rakuten-info">
    <div class="ad-rakuten-title">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00sjv32.waxycb1c.g00sjv32.waxyd711/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fgaragefield%2F10000024%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fgaragefield%2Fi%2F10000024%2F">送料無料 オリジナル 東方Project 東方 霊夢&amp;魔理沙 【ゆっくりしていってね】Tシャツ</a>
    </div>
    <div class="ad-rakuten-shop">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00sjv32.waxycb1c.g00sjv32.waxyd711/?pc=https%3A%2F%2Fwww.rakuten.co.jp%2Fgaragefield%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fgaragefield%2F">ガレージ・フィールド</a>
    </div>
    <div class="ad-rakuten-price">価格 : 2500円</div>
  </div>
</div>
<div class="ad-amazon">
  <div class="ad-amazon-image">
    <a href="https://www.amazon.co.jp/dp/B09XBJNWZ4?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">
      <img src="https://m.media-amazon.com/images/I/31uNJOnF12L._SL160_.jpg" width="160" height="144">
    </a>
  </div>
  <div class="ad-amazon-info">
    <div class="ad-amazon-title">
      <a href="https://www.amazon.co.jp/dp/B09XBJNWZ4?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">東方 ゆっくりれいむ おもしろ Tシャツ 半袖 ホワイト M</a>
    </div>
  </div>
</div>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2022-05-17</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2022-05-17</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
