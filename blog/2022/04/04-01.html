<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>久々にコーディング。「Neo's Timer」を作った - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2022/04/04-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script defer src="/scripts.js"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2022/index.html">2022年</a></li>
            <li><a href="/blog/2022/04/index.html">04月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2022-04-04</time></div>
        <h1 id="page-title">久々にコーディング。「Neo's Timer」を作った</h1>

<p>ちまちましたスクリプトは書いていたものの、久々に Angular を使ったフロントエンドアプリのコーディングをした。その名も「<strong>Neo's Timer</strong>」。</p>
<ul>
  <li><a href="https://neos21.github.io/neos-timer/">Neo's Timer</a></li>
</ul>
<p>ソースコードは以下。</p>
<ul>
  <li><a href="https://github.com/Neos21/neos-timer">Neos21/neos-timer: Neo's Timer</a></li>
</ul>
<p>「秒数」と「メモ」が書けるフォームが複数行登録できる。んで、設定した秒数に従ってカウントダウンとアラーム音の再生を続ける、というモノ。何がしたくてこんなモノを作ったのかというと、<strong>筋トレのメニューをこなす時のタイマー</strong>が欲しかったのだ。よく、</p>
<ul>
  <li>レッグリフト : 30秒</li>
  <li>インターバル : 10秒</li>
  <li>ブルガリアンスクワット・左足 : 45秒</li>
  <li>ブルガリアンスクワット・右足 : 45秒</li>
</ul>
<p>みたいなメニューで筋トレをするが、こうしたメニューを覚えたりするのが苦手だったので、それを記録しつつ、時間を計測できるタイマーアプリを作った次第。</p>
<p>フォームに入力した秒数とメモは、「Start」ボタンを押したタイミングなんかで <em>URL クエリパラメータ</em>に組み立てられる他、LocalStorage にも保存できる。<strong>クエリ文字列で情報を保存・読み込み</strong>できるようにしておくと、色んな筋トレメニューを<em>ブラウザのブックマーク</em>で分けて扱えるので、クエリ文字列を使う簡易アプリを作るのが個人的な趣味になってる。</p>
<p>Angular アプリはいつもどおり、テストとかない最小構成。SCSS も使わず素の CSS なので <code>package.json</code> がシンプル。あんまりあれやこれや依存したくない気分。</p>
<p>タイマー表示のデジタル時計については、<a href="https://vclock.jp/">オンライン目覚まし時計</a>というサイトで使われていた、<a href="https://www.onlinewebfonts.com/download/84cb021d5f9af287ffff84b61beef6dc">clockicons</a> という Web フォントを読み込んでいる。</p>
<p>アラーム音についても <a href="https://otologic.jp/">OtoLogic</a> 様よりいただいた素材で作って、Base64 文字列にして埋め込んである。iOS Safari では <code>new Audio()</code> で作った音声の再生に制約があって、音が鳴らない。自分は PC の Chrome ブラウザで使うつもりで作ったアプリだし、音はいいやーと思って対応をサボっている。ｗ</p>
<p>デザイン周りは CSS Grid でガチガチに組んだ。CSS Grid って本質的にテーブルレイアウトと変わんない気がするけど、やりたいのってそういうことだからなー仕方ない。ｗ</p>
<p>今回は自分が一番慣れてる SPA フレームワークである Angular を使って、リハビリがてら開発した。ReactiveForms で FormArray をゴリゴリ触るアプリは実はちゃんと作ったことなかったかも。今回それが出来てよかった。Angular は一番堅牢さがあって良いのだが、そろそろ自分の中での目新しさがなくなってきたので、バックエンドも込みで Next.js あたりを触ってみるかどうするか悩み中。</p>
<hr>
<p>今回みたいなフロントエンドオンリーで完結する趣味アプリとは別の話だけど、最近どんどん「SPA である意味」が分かんなくなってきてるんだよなぁ。</p>
<p>バズワードに飛びついて「時代は React らしいっすよ！」とか今さら言ってる素人客には刺さるから、SIer としては案件獲得時のアピールポイントに利用して「SPA でモダンで疎結合な…」とか書くんだけど、実際ちゃんと SPA でバックエンドも込みで作れる人間が自社内にもいないのが終わってんだよなぁ。「JSON っていうのよく分からないです、HTML 返せないんですか？」とか社内の人に言われて、それって MPA っていうか Hotwire っていうかヘッドレス CMS 状態っていうか。結局開発する側も「疎結合」って概念が分かってなかったり RESTful な設計スキルがなかったり運用まで考えて作れなかったりするから、作る側もバカならバカのレベルに合わせて動くモン作った方がよくね？って思ったりする。テーブルの正規化との区別がついてないような状態の人間が、外部公開しない API を頑張って RESTful に疎結合にするんだーってしても効果薄いし、GraphQL で「作れる」(概念的に分かってるだけじゃなくて具体的なフレームワークを使ってパフォーマンスや運用まで考えて設計実装ができるかどうかってこと) 人もいないし、フロントエンドアプリ上で発生したエラーログも収集できない連中には高尚過ぎるんだよなぁ。疎結合にした上に元来のドキュメント作成嫌いが出てドキュメント残さないから、何と何が繋がってるのか自分で分からなくなってて障害トレース出来てないでしょ。そんなんばっかりだから、身の丈にあった道具を使って必要な問題だけ解決しようよ、って気分になってる。</p>
<p>バックエンドが絡むと色々面倒臭くて、やっぱり Kubernetes である必要なくないっすか？SPA にしない方が保守もしやすいんじゃないですか？PaaS でいいっすよね？自分たちのくだらない仕事増やすの止めません？って気持ちになる。客もベンダも得しないなーっていう。</p>
<p>別に「お客様に価値を届けたい」とか何とかキザったらしい思いは全くなくて、俺が被る「面倒かつ不必要な仕事」をなくして楽したいっていうだけなんだけど、ホント SIer の仕事よく分からん。ｗ</p><div class="ad-amazon">
  <div class="ad-amazon-image">
    <a href="https://www.amazon.co.jp/dp/B0758BRQV3?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">
      <img src="https://m.media-amazon.com/images/I/51yR9ZVjRUL._SL160_.jpg" width="112" height="160">
    </a>
  </div>
  <div class="ad-amazon-info">
    <div class="ad-amazon-title">
      <a href="https://www.amazon.co.jp/dp/B0758BRQV3?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">尻トレが最強のキレイをつくる</a>
    </div>
  </div>
</div>
<div class="ad-rakuten">
  <div class="ad-rakuten-image">
    <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F15011019%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F18633380%2F">
      <img src="https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/9696/9784426609696.jpg?_ex=128x128">
    </a>
  </div>
  <div class="ad-rakuten-info">
    <div class="ad-rakuten-title">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F15011019%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F18633380%2F">尻トレが最強のキレイをつくる [ Testosterone ]</a>
    </div>
    <div class="ad-rakuten-shop">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fwww.rakuten.co.jp%2Fbook%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2F">楽天ブックス</a>
    </div>
    <div class="ad-rakuten-price">価格 : 1430円</div>
  </div>
</div>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2022-04-04</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2022-04-04</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
