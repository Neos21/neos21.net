<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>Vuetify を使って困ったところ小ネタ集 - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2020/07/23-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script defer src="/scripts.js"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2020/index.html">2020年</a></li>
            <li><a href="/blog/2020/07/index.html">07月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2020-07-23</time></div>
        <h1 id="page-title">Vuetify を使って困ったところ小ネタ集</h1>

<p>Vue CLI + TypeScript + SCSS + Vue-Router + Vuex なプロジェクトに、<code>$ vue add vuetify</code> で <em>Vuetify</em> を追加した。</p>
<p>Vuetify はマテリアルデザインを実現するフレームワークだが、細かなところでデザインを調整したい時に上手いやり方が分からないことがあり、ちょくちょく調べている。</p>
<p>今回はそんな、「ちょっとググッて調整した Vuetify 周りの小ネタ」を紹介する。</p>
<h2 id="目次"><a class="header-link" href="#目次"><span class="header-link-mark"></span></a>目次</h2>
<ul>
  <li><a href="#overlays-%E8%A1%A8%E7%A4%BA%E6%99%82%E3%81%AB%E7%B8%A6%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%90%E3%83%BC%E3%81%8C%E6%B6%88%E3%81%88%E3%81%A6%E7%94%BB%E9%9D%A2%E5%B9%85%E3%81%8C%E3%82%BA%E3%83%AC%E3%82%8B%E3%81%AE%E3%81%8C%E3%82%A6%E3%82%B6%E3%81%84">Overlays 表示時に縦スクロールバーが消えて画面幅がズレるのがウザい</a></li>
  <li><a href="#scrollable-%E3%81%AA-v-dialog-%E3%81%AE%E7%B8%A6%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%90%E3%83%BC%E3%81%8C%E8%A6%8B%E3%81%88%E3%81%9F%E3%82%8A%E6%B6%88%E3%81%88%E3%81%9F%E3%82%8A%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E3%82%A6%E3%82%B6%E3%81%84"><code>scrollable</code> な <code>v-dialog</code> の縦スクロールバーが見えたり消えたりするのがウザい</a></li>
  <li><a href="#v-list-item-%E3%81%A7%E7%9C%81%E7%95%A5%E3%81%9B%E3%81%9A%E6%8A%98%E3%82%8A%E8%BF%94%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84"><code>v-list-item</code> で省略せず折り返し表示させたい</a></li>
  <li><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%98%E3%83%83%E3%83%80%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%81%AB%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E8%B2%BC%E3%82%8B">ページヘッダのタイトルにリンクを貼る</a></li>
  <li><a href="#v-text-field-%E3%81%AB-required-%E5%B1%9E%E6%80%A7%E3%81%A0%E3%81%91%E6%9B%B8%E3%81%84%E3%81%A6%E3%82%82%E5%BF%85%E9%A0%88%E9%A0%85%E7%9B%AE%E3%81%AB%E3%81%AF%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84"><code>v-text-field</code> に <code>required</code> 属性だけ書いても必須項目にはならない</a></li>
  <li><a href="#v-list-%E3%81%AE%E9%96%93%E3%81%AB%E7%BD%AB%E7%B7%9A%E3%82%92%E5%BC%95%E3%81%8F"><code>v-list</code> の間に罫線を引く</a></li>
  <li><a href="#%E3%83%86%E3%83%BC%E3%83%9E%E3%82%AB%E3%83%A9%E3%83%BC%E3%82%92%E8%87%AA%E5%88%86%E3%81%A7%E6%B1%BA%E3%82%81%E3%82%8B">テーマカラーを自分で決める</a></li>
  <li><a href="#%E4%BB%A5%E4%B8%8A">以上</a></li>
</ul>
<h2 id="overlays-表示時に縦スクロールバーが消えて画面幅がズレるのがウザい"><a class="header-link" href="#overlays-表示時に縦スクロールバーが消えて画面幅がズレるのがウザい"><span class="header-link-mark"></span></a>Overlays 表示時に縦スクロールバーが消えて画面幅がズレるのがウザい</h2>
<p>Dialog (<code>v-dialog</code>) や Navigation Drawer (<code>v-navigation-drawer</code>) などの Overlays を表示する時に、<code>html</code> 要素の縦スクロールバーが消えて、画面幅が若干広がって画面全体が左右にズレるのがキモい。<code>html</code> 要素に独自の CSS クラスが振られて、<code>overflow-y</code> が制御されているのが原因だ。</p>
<p>次のようにページ全体のデザインに指定を入れれば回避できるが、オーバーレイの裏にある画面全体をスクロールできてしまうので、一長一短。</p>
<ul>
  <li><code>src/App.vue</code></li>
</ul>
<pre class="language-scss"><code class="language-scss"><span class="token comment">// ↓ scoped 属性を書かないことでグローバルに適用させる</span>
<span class="token selector">&#x3C;style lang="scss">

html,
html.overflow-y-hidden </span><span class="token punctuation">{</span>
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>そうそう、<code>views/</code> や <code>components/</code> でスタイルを書く時に、</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scss<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span>
</code></pre>
<p>と <em><code>scoped</code> 属性</em>を付けることで、スタイルのスコープ化 (カプセル化) が出来るようになる。地味に知らなかった。</p>
<h2 id="scrollable-な-v-dialog-の縦スクロールバーが見えたり消えたりするのがウザい"><a class="header-link" href="#scrollable-な-v-dialog-の縦スクロールバーが見えたり消えたりするのがウザい"><span class="header-link-mark"></span></a><code>scrollable</code> な <code>v-dialog</code> の縦スクロールバーが見えたり消えたりするのがウザい</h2>
<p>先程のページ全体の縦スクロールバーと同様の話。</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- scrollable を付与することで、高さが出来た時に `v-card-text` に縦スクロールバーが付く --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-dialog</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowDialog<span class="token punctuation">"</span></span> <span class="token attr-name">persistent</span> <span class="token attr-name">scrollable</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card-title</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>grey lighten-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>タイトル<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card-title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-divider</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-divider</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card-text</span><span class="token punctuation">></span></span>
      ココに高さが発生する可変な内容…
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card-text</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-divider</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-divider</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card-actions</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-btn</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowDialog = false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>閉じる<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-btn</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card-actions</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-dialog</span><span class="token punctuation">></span></span>
</code></pre>
<p>この場合も、<code>v-card-text</code> に縦スクロールバーが付いたり付かなかったりして、Dialog 内の幅がズレるので、次のように直す。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-dialog</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowDialog<span class="token punctuation">"</span></span> <span class="token attr-name">persistent</span> <span class="token attr-name">scrollable</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card</span><span class="token punctuation">></span></span>
    <span class="token comment">&#x3C;!-- ↓ 次のように CSS クラスを振る --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card-text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>always-show-scrollbar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      ココに高さが発生する可変な内容…
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card-text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-dialog</span><span class="token punctuation">></span></span>
</code></pre>
<pre class="language-scss"><code class="language-scss"><span class="token selector">.always-show-scrollbar </span><span class="token punctuation">{</span>
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>最初からスクロールバーは出しときゃいいじゃん派。</p>
<h2 id="v-list-item-で省略せず折り返し表示させたい"><a class="header-link" href="#v-list-item-で省略せず折り返し表示させたい"><span class="header-link-mark"></span></a><code>v-list-item</code> で省略せず折り返し表示させたい</h2>
<p>リストを構築する <code>v-list-item</code> は、中のテキストが長いと省略表示されてしまう。コレを折り返して全て表示させたい場合は、次のような CSS クラスを割り当てると良い。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-content</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-title</span><span class="token punctuation">></span></span>タイトル<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-subtitle</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrap-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment">&#x3C;!-- ← クラスを振っている --></span>
    長いテキスト…
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-subtitle</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-content</span><span class="token punctuation">></span></span>
</code></pre>
<p><code>v-list-item</code> に <code>white-space: nowrap</code> 指定があるので、次のような CSS クラスで打ち消してやる。</p>
<pre class="language-scss"><code class="language-scss"><span class="token selector">.wrap-text </span><span class="token punctuation">{</span>
  <span class="token property">word-break</span><span class="token punctuation">:</span> break-all<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="ページヘッダのタイトルにリンクを貼る"><a class="header-link" href="#ページヘッダのタイトルにリンクを貼る"><span class="header-link-mark"></span></a>ページヘッダのタイトルにリンクを貼る</h2>
<p>ページのヘッダを構成する <code>v-app-bar</code>。その中に配置した <code>v-toolbar-title</code> が、画面全体のタイトルを表現する形になる。</p>
<p>せっかくならこの <code>v-toolbar-title</code> にリンクを振りたいのだが、<code>v-bind:to</code> とかが出来ない。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-app</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-app-bar</span> <span class="token attr-name">app</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">dark</span><span class="token punctuation">></span></span>
    <span class="token comment">&#x3C;!-- ↓ 以下の v-bind:to 属性は動かない --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-toolbar-title</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      タイトル
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-toolbar-title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-app-bar</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-main</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-container</span> <span class="token attr-name">fluid</span><span class="token punctuation">></span></span>
      <span class="token comment">&#x3C;!-- カードやリストは v-bind:to が書けるのに… --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/hoge<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        カード
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card</span><span class="token punctuation">></span></span>
      
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list</span> <span class="token attr-name">dense</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item</span> <span class="token attr-name">link</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-action</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-icon</span><span class="token punctuation">></span></span>mdi-home<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-icon</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-action</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-content</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-title</span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-content</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-container</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-main</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-app</span><span class="token punctuation">></span></span>
</code></pre>
<p>で、仕方がないので、Vue-Router の <code>router-link</code> を中に入れてやることにした。このままだとリンクっぽい見た目になってしまうので、セットでテキストの色味も調整する。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-app</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-app-bar</span> <span class="token attr-name">app</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">dark</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-toolbar-title</span><span class="token punctuation">></span></span>
      <span class="token comment">&#x3C;!-- ↓ 素直に router-link を書く --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toolbar-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        タイトル
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-toolbar-title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-app-bar</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-app</span><span class="token punctuation">></span></span>
</code></pre>
<pre class="language-scss"><code class="language-scss"><span class="token selector">#app </span><span class="token punctuation">{</span>
  <span class="token comment">// v-toolbar-title 内のリンク色を直す</span>
  <span class="token selector">.toolbar-title </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>コレでよき。</p>
<h2 id="v-text-field-に-required-属性だけ書いても必須項目にはならない"><a class="header-link" href="#v-text-field-に-required-属性だけ書いても必須項目にはならない"><span class="header-link-mark"></span></a><code>v-text-field</code> に <code>required</code> 属性だけ書いても必須項目にはならない</h2>
<p>フォーム内のテキストボックスを必須入力にさせたく、次のように書いてみた。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-form</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form.isValid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-text-field</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form.name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>名前<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-btn</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!form.isValid<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onSubmit<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>送信する<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-btn</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-form</span><span class="token punctuation">></span></span>
</code></pre>
<p><code>v-form</code> の <code>v-model</code> が Boolean になっていて、内部のフォーム部品たちのバリデーションが全部 OK になると <code>true</code> になるという素敵な仕組み。コレを使って Submit するボタンの <code>disabled</code> 属性を変えてやれば、「送信」ボタン押下時に改めてバリデーションチェックを実装する必要がない。</p>
<p><code>v-text-field</code> には <code>required</code> 属性を振ったし、コレで OK か？と思ったら、どうも上手くバリデーションされていない様子。</p>
<p>調べてみると、コレは HTML5 の <code>required</code> 属性を渡しているに過ぎず、<code>v-form</code> の <code>v-model</code> で対応するバリデーションチェックには引っかからないようだ。</p>
<p>というワケで、やはり <em><code>v-bind:rules</code> 属性は必須</em>というワケだった。なんなら <code>required</code> 属性の方は効果がないから消してしまっても良いくらい。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-form</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isValidForm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&#x3C;!-- v-bind:rules は配列を渡すので、[] 内に required 関数を入れている --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-text-field</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[required]<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>名前<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-btn</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isValidForm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onSubmit<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>送信する<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-btn</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-form</span><span class="token punctuation">></span></span>
</code></pre>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'MyComponent'</span><span class="token punctuation">,</span>
  <span class="token comment">// data は次の書き方をするとインデントが少なく済む (`data() { return {}; }` とするとインデントが一段増える)</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    isValidForm<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自分でバリデーション関数を用意する</span>
    <span class="token function-variable function">required</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token string">'必須入力です。'</span><span class="token punctuation">,</span>
    <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* Submit 処理 */</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>バリデーションルールは <code>data</code> 側に持たせる例もある。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-text-field</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nameRules<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>名前<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
</code></pre>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'MyComponent'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    isValidForm<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    nameRules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token string">'名前は必須入力です。'</span><span class="token punctuation">,</span>
      <span class="token comment">// ココに同様に関数を追加していくことで、複数のバリデーションを実現できる</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>この柔軟性、一度覚えると書きやすいが、書き方を忘れたり、他人のコードを読解する時になると辛くなってくる。</p>
<h2 id="v-list-の間に罫線を引く"><a class="header-link" href="#v-list-の間に罫線を引く"><span class="header-link-mark"></span></a><code>v-list</code> の間に罫線を引く</h2>
<p><code>v-list</code> の行間に罫線を引く場合。1行目の上に余分に罫線が出たり、最終行の下に余計な罫線が出来たりするのを回避するため、ちょっとした調整が必要だった。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-card</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list</span> <span class="token attr-name">dense</span> <span class="token attr-name">subheader</span><span class="token punctuation">></span></span>
    <span class="token comment">&#x3C;!-- template 要素自体はレンダリングされない --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(myItem, index) in myItems<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment">&#x3C;!-- 1行目以外 (2行目以降) に上線を引く --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-divider</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index >= 1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myItem.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-content</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-list-item-title</span><span class="token punctuation">></span></span>{{ myItem.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item-content</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list-item</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-list</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>罫線は <code>v-divider</code> で引けば良いのだが、イイカンジに表示するために <code>index</code> 値を見て <code>v-if</code> で表示要否を決めている。</p>
<p>このように複数要素を <code>v-for</code> で回して表示させたりしたい時に、<code>template</code> 要素が使える。<code>template</code> 要素自体は最終的にレンダリングされないので、CSS の適用順も変わらず、単純に <code>v-for</code> や <code>v-if</code> などの制御文を逃して書けるので見通しやすくなる。</p>
<h2 id="テーマカラーを自分で決める"><a class="header-link" href="#テーマカラーを自分で決める"><span class="header-link-mark"></span></a>テーマカラーを自分で決める</h2>
<p>テーマカラーを自分で決める際は、<code>src/plugins/vuetify.ts</code> に書き込めば良い。<em>Theme Generator</em> というサイトで、カラーコードもしくは色変数名で出力できるので、使ってみると良いだろう。</p>
<ul>
  <li>参考 : <a href="https://theme-generator.vuetifyjs.com/">Vuetify Theme Generator</a></li>
</ul>
<p>指定の仕方はこんな感じ。ダークテーマの時も同じ色味が使われるようにしておくことで、部分的に <code>dark</code> 指定を入れている時も色味がおかしくならない。</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token imports"><span class="token maybe-class-name">Vue</span></span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token imports"><span class="token maybe-class-name">Vuetify</span></span> <span class="token keyword">from</span> <span class="token string">'vuetify/lib'</span><span class="token punctuation">;</span>

<span class="token comment">// ↓ 他の文献では違うパスを見かけたが、vuetify@2.3.2 ではコレを import するのが正しいみたい</span>
<span class="token keyword">import</span> <span class="token imports">colors</span> <span class="token keyword">from</span> <span class="token string">'vuetify/lib/util/colors'</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">Vue</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">Vuetify</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// https://theme-generator.vuetifyjs.com/ をベースに作った</span>
<span class="token keyword">const</span> customTheme <span class="token operator">=</span> <span class="token punctuation">{</span>
  primary  <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">pink</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>   <span class="token comment">// #e91e63</span>
  secondary<span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">teal</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>   <span class="token comment">// #009688</span>
  accent   <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">cyan</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>   <span class="token comment">// #00bcd4</span>
  error    <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">red</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>    <span class="token comment">// #f44336</span>
  warning  <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">amber</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>  <span class="token comment">// #ffc107</span>
  info     <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">blue</span><span class="token punctuation">.</span><span class="token property-access">base</span><span class="token punctuation">,</span>   <span class="token comment">// #2196f3</span>
  success  <span class="token operator">:</span> colors<span class="token punctuation">.</span><span class="token property-access">green</span><span class="token punctuation">.</span><span class="token property-access">base</span>   <span class="token comment">// #4caf50</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Vuetify</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ↓ 以下のように書く</span>
  theme<span class="token operator">:</span> <span class="token punctuation">{</span>
    themes<span class="token operator">:</span> <span class="token punctuation">{</span>
      light<span class="token operator">:</span> customTheme<span class="token punctuation">,</span>
      dark <span class="token operator">:</span> customTheme
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>あとは以下の要領でテーマ名を指定してやれば良い。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-btn</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通常ボタン<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-btn</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-btn</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>警告ボタン<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-btn</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning--text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>警告文<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error--text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>エラー文<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>
<p>Vuetify は文字色指定だけ <code>【色名】--text</code> と逆転して書く形になるのが違和感。ｗ</p>
<h2 id="以上"><a class="header-link" href="#以上"><span class="header-link-mark"></span></a>以上</h2>
<p>何やらちょこちょこ調べながら書くのが大変ではあるが、さすがは Material Design。見栄えは良いな…。</p>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2020-07-23</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2020-07-23</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
