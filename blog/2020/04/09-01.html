<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <!-- Open Graphãƒ»Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Neo's World">
    <meta property="og:title" content="Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ - Neo's World">
    <meta property="og:description" content="Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ - Neo's World">
    <meta property="og:url" content="https://neos21.net/blog/2020/04/09-01.html">
    <meta property="og:image" content="https://neos21.net/ogp.png">
    <meta property="og:locale" content="ja_JP">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ - Neo's World">
    <meta property="twitter:description" content="Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ - Neo's World">
    <meta property="twitter:url" content="https://neos21.net/blog/2020/04/09-01.html">
    <meta property="twitter:image" content="https://neos21.net/ogp.png">
    <title>Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2020/04/09-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script src="/scripts.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-MZCGD23');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZCGD23" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-theme"><a href="#" title="Toggle Theme"><span>Toggle Theme</span></a></li>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>â–¼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2020/index.html">2020å¹´</a></li>
            <li><a href="/blog/2020/04/index.html">04æœˆ</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2020-04-09</time></div>
        <h1 id="page-title">Ubuntu 18.04 ã® GNOME ã« XRDP æ¥ç¶šã—ã¦ã¿ãŸã‹ã£ãŸ</h1>

<p>æœ€è¿‘ Ubuntu 18.04 ã‚’ã‚¤ã‚¸ã£ã¦ã„ã‚‹ã€‚ä¸€èˆ¬ã«ã¯ä¸äººæ°—ã‚‰ã—ã„ã‘ã©ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® GNOME ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¯å€‹äººçš„ã«ã¯æ°—ã«å…¥ã£ã¦ã„ã‚‹ã€‚</p>
<p>è‡ªåˆ†ãŒæ§‹ç¯‰ã—ãŸ Ubuntu ç’°å¢ƒã¯ä»¥ä¸‹ã®3ç¨®é¡ãŒã‚ã‚‹ã€‚</p>
<ol>
  <li>ThinkPad X250 ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Ubuntu 18.04 æ—¥æœ¬èª Remix
    <ul>
      <li>æœ€ã‚‚ãƒ”ãƒ¥ã‚¢ãª Ubuntu ç’°å¢ƒã¨ã—ã¦ä»–ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«å‚è€ƒã«ã—ã¦ã„ã‚‹</li>
      <li>ã‚³ã‚¤ãƒ„ã« XRDP æ¥ç¶šã™ã‚‹ã“ã¨ã¯ãªãã€Chrome Remote Desktop ã§äº‹è¶³ã‚Šã¦ã„ã‚‹</li>
    </ul>
  </li>
  <li>Windows Subsystem for Linux (WSL) ã® Ubuntu 18.04
    <ul>
      <li>GNOME ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã€VcXsrv ã§æ¥ç¶šã™ã‚‹ã“ã¨ã§ã€ã€Œæ—¥æœ¬èª Remixã€ã¨éœè‰²ãªã„ä½¿ã„å¿ƒåœ°ã‚’å®Ÿç¾ã§ãã¦ã„ã‚‹</li>
      <li>ã‚³ã‚¤ãƒ„ã«å¯¾ã—ã¦ã€VcXsrv ã§ã¯ãªãã€Windows æ¨™æº–ã®ã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã§æ¥ç¶šã§ããŸã‚‰è‰¯ã„ãªãƒ¼ã¨æ€ã„ã€XRDP æ¥ç¶šã‚’è©¦ã¿ã‚ˆã†ã¨ã—ã¦ã„ã‚‹</li>
    </ul>
  </li>
  <li>Oracle Cloud Infrastructure ã® Always Free ãª Compute Instance ã«ç«‹ã¦ãŸ Ubuntu 18.04
    <ul>
      <li>Always Free (VM.Standard.E2.1.Micro ã‚·ã‚§ã‚¤ãƒ—) ãª VM ã« Public IP ã‚’å‰²ã‚Šå½“ã¦ã¦ä½œæˆã—ãŸ</li>
      <li>Canonical-Ubuntu-18.04-2020.02.18-0 ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€WSL Ubuntu ã¨åŒæ§˜ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ GNOME ç’°å¢ƒã®æº–å‚™ã¯ã—ãŸ</li>
      <li>ä¸»ã«ã‚¯ãƒ©ã‚¦ãƒ‰ VM ã«å¯¾ã—ã¦ã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã§æ¥ç¶šã§ãã‚‹ Ubuntu ç’°å¢ƒãŒæ§‹ç¯‰ã§ããŸã‚‰ä¾¿åˆ©ã‹ãªãƒ¼ã¨æ€ã„ã€ã‚³ã‚¤ãƒ„ã‚’æœ¬å‘½ã« XRDP æ¥ç¶šã‚’è©¦ã¿ã‚ˆã†ã¨ã—ã¦ã„ã‚‹</li>
      <li>ã¡ãªã¿ã«ã€ä»¥å‰ Oracle Linux 7 + Xfce ã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ¥ç¶šå¯èƒ½ãª OCI VM ã‚’ä½œã£ãŸã“ã¨ã¯ã‚ã‚‹ãŒã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå°‘ãªãã¦ä½¿ã£ã¦ã„ãªã„<br><a href="/blog/2020/02/18-02.html">OCI Always Free Instance ã« Xfce ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ GUI åŒ–ã™ã‚‹</a></li>
    </ul>
  </li>
</ol>
<p>ã¨ã„ã†ãƒ¯ã‚±ã§ã€ã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã‹ã‚‰ã‚µã‚¯ãƒƒã¨æ¥ç¶šã§ãã‚‹ Ubuntu ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãŒã‚ã£ãŸã‚‰ä¾¿åˆ©ã‹ãªãƒ¼ã¨ã„ã†è»½ã„ãƒãƒªã§ XRDP ã‚’å…¥ã‚Œã¦ã¿ãŸãŒã€<strong>ã†ã¾ãè¡Œã‹ãšâ€¦</strong>ã€‚ä»Šå›ã¯ãã®è¨˜éŒ²ã‚’è¼‰ã›ã¦ãŠãã€‚</p>
<h2 id="ç›®æ¬¡"><a class="header-link" href="#ç›®æ¬¡"><span class="header-link-mark"></span></a>ç›®æ¬¡</h2>
<ul>
  <li><a href="#wsl-ubuntu-%E3%81%AB-xrdp-%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F">WSL Ubuntu ã« XRDP æ¥ç¶šã—ãŸã‹ã£ãŸ</a></li>
  <li><a href="#oci-%E3%81%AE-ubuntu-vm-%E3%81%AB-xrdp-%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F">OCI ã® Ubuntu VM ã« XRDP æ¥ç¶šã—ãŸã‹ã£ãŸ</a></li>
  <li><a href="#x-window-system-%E5%91%A8%E3%82%8A%E3%81%AE%E7%9F%A5%E8%AD%98%E3%81%AA%E3%81%95%E3%81%99%E3%81%8E%E3%82%8B">X Window System å‘¨ã‚Šã®çŸ¥è­˜ãªã•ã™ãã‚‹â€¦</a></li>
  <li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">å‚è€ƒæ–‡çŒ®</a></li>
</ul>
<h2 id="wsl-ubuntu-ã«-xrdp-æ¥ç¶šã—ãŸã‹ã£ãŸ"><a class="header-link" href="#wsl-ubuntu-ã«-xrdp-æ¥ç¶šã—ãŸã‹ã£ãŸ"><span class="header-link-mark"></span></a>WSL Ubuntu ã« XRDP æ¥ç¶šã—ãŸã‹ã£ãŸ</h2>
<p>å¯¾è±¡ã® Windows ç’°å¢ƒã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã€‚Windows10 Pro ä½¿ç”¨ã€WSL2 åŸºç›¤ã® Ubuntu 18.04 ã‚’ä½¿ç”¨ã€‚</p>
<pre class="language-batch"><code class="language-batch"><span class="token operator">@</span><span class="token command"><span class="token keyword">Rem</span> ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç¢ºèªã§ãã‚‹</span>
>ver
<span class="token command"><span class="token keyword">Microsoft</span> Windows [Version <span class="token number">10</span>.<span class="token number">0</span>.<span class="token number">19569</span>.<span class="token number">1000</span>]</span>
</code></pre>
<p>VcXsrv ã‚’ä½¿ã£ãŸ GNOME ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã€ãŠã‚ˆã³æ—¥æœ¬èªå…¥åŠ›ç’°å¢ƒã¯æ§‹ç¯‰æ¸ˆãªã®ã§ã€æ¬¡ã®ã‚ˆã†ã« XRDP ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã¿ãŸã€‚</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xrdp

<span class="token comment"># port=3389 ã¨æ›¸ã„ã¦ã‚ã‚‹ã®ã§ 3390 ã«ã™ã‚‹</span>
<span class="token comment"># ã‚«ãƒ¼ã‚½ãƒ«ã®èƒŒæ™¯ã«é»’ã„æ ãŒã§ãã‚‹ã®ã‚’é˜²ããŸã‚ new_cursors ã‚’ false ã«ã™ã‚‹</span>
<span class="token comment"># sudo vi /etc/xrdp/xrdp.ini</span>
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/port=3389/port=3390/g'</span>                /etc/xrdp/xrdp.ini
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/new_cursors=true/new_cursors=false/g'</span> /etc/xrdp/xrdp.ini
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/max_bpp=32/max_bpp=128/g'</span>             /etc/xrdp/xrdp.ini
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/xserverbpp=24/xserverbpp=128/g'</span>       /etc/xrdp/xrdp.ini

<span class="token function">sudo</span> <span class="token function">service</span> xrdp restart

<span class="token function">cat</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">EOL<span class="token bash punctuation"> <span class="token operator">></span> ~/.xsessionrc</span>
export GNOME_SHELL_SESSION_MODE=ubuntu
export XDG_CURRENT_DESKTOP=ubuntu:GNOME
export XDG_DATA_DIRS=/usr/share/ubuntu:/usr/local/share:/usr/share:/var/lib/snapd/desktop
export XDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/etc/xdg
EOL</span>
</code></pre>
<p>ã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã«ã¦ã€<code>localhost:3390</code> ã§æ¥ç¶šã™ã‚‹ã¨ã€XRDP ã®ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¾ã§ã¯è¡¨ç¤ºã•ã‚Œã‚‹ã€‚ã—ã‹ã—ãã®å¾Œã®ãƒ­ã‚°ã‚¤ãƒ³ãŒã†ã¾ãè¡Œã‹ãªã„ã€‚</p>
<ul>
  <li>Xorg ã‚»ãƒƒã‚·ãƒ§ãƒ³ã ã¨ãƒ­ã‚°ã‚¤ãƒ³ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã§åˆ‡æ–­ã•ã‚Œã‚‹</li>
  <li>X11rdp ã‚»ãƒƒã‚·ãƒ§ãƒ³ã ã¨ãƒ­ã‚°ã‚¤ãƒ³ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒæ¶ˆãˆãŸã¾ã¾çµ‚ã‚ã‚‹</li>
  <li>Xvnc ã‚»ãƒƒã‚·ãƒ§ãƒ³ã ã¨æ¬¡ã®ã‚ˆã†ãª Connection Log ãŒå‡ºã¦çµ‚ã‚ã‚‹</li>
</ul>
<pre><code>connecting to sesman ip 127.0.0.1 port 3350
sesman connect ok
sending login info to session manager, please wait...
login successful for display 10
VNC started connecting
VNC connecting to 127.0.0.1 5910
VNC error - problem connecting
some problem
</code></pre>
<p>ã£ã¦ãªæ„Ÿã˜ã§æ€ã£ãŸã‚ˆã†ãªå‹•ãã«ãªã‚‰ãšã€ã‚³ãƒ¬ä»¥ä¸ŠçŸ¥è­˜ã‚‚ãªãã¦æ–­å¿µã€‚</p>
<h2 id="oci-ã®-ubuntu-vm-ã«-xrdp-æ¥ç¶šã—ãŸã‹ã£ãŸ"><a class="header-link" href="#oci-ã®-ubuntu-vm-ã«-xrdp-æ¥ç¶šã—ãŸã‹ã£ãŸ"><span class="header-link-mark"></span></a>OCI ã® Ubuntu VM ã« XRDP æ¥ç¶šã—ãŸã‹ã£ãŸ</h2>
<p>OCI ã® Ubuntu 18.04 ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ Always Free VM ã‚’æ§‹ç¯‰ã—ãŸã€‚<code>Out of capacity</code> ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè‹¥å¹²å¤‰ã‚ã£ã¦ãŸã€‚</p>
<pre><code>Out of capacity for shape VM.Standard.E2.1.Micro in availability domain JAPC:AP-TOKYO-1-AD-1. Please try a different shape, availability domain, or fault domain. Or wait a few minutes and try again.
</code></pre>
<p>1æ—¥ç½®ã„ãŸã‚‰ VM ãŒä½œã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã€‚</p>
<p>Ubuntu VM ã«ã¯ <code>opc</code> ãƒ¦ãƒ¼ã‚¶ã§ã¯ãªã <code>ubuntu</code> ãƒ¦ãƒ¼ã‚¶ã§ SSH æ¥ç¶šã™ã‚‹ã€‚SSH æ¥ç¶šã—ãŸã‚‰ã€WSL ã® GNOME ç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã¨ãã¨åŒæ§˜ã«ã€å„ç¨®æ—¥æœ¬èªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¥ã‚ŒãŸã‚Šã—ã¦ã„ã£ãŸã€‚</p>
<p>ãã®å¾Œã€æ¬¡ã®ã‚ˆã†ã« XRDP æ¥ç¶šã®æº–å‚™ã‚’é€²ã‚ã¦ã„ã£ãŸã€‚</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y xrdp
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/new_cursors=true/new_cursors=false/g'</span> /etc/xrdp/xrdp.ini
<span class="token function">sudo</span> systemctl restart xrdp

<span class="token comment"># PolicyKit è¨­å®š</span>
<span class="token function">cat</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">EOL<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/polkit-1/localauthority/50-local.d/xrdp-color-manager.pkla</span>
[Netowrkmanager]
Identity=unix-user:*
Action=org.freedesktop.color-manager.create-device
ResultAny=no
ResultInactive=no
ResultActive=yes
EOL</span>
<span class="token function">sudo</span> systemctl restart polkit

<span class="token comment"># XRDP æ¥ç¶šç”¨ãƒ¦ãƒ¼ã‚¶ã‚’ä½œã‚‹ (opc ã‚„ ubuntu ãƒ¦ãƒ¼ã‚¶ã¨ã¯åˆ¥ã«)</span>
<span class="token function">sudo</span> adduser neo  <span class="token comment"># ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹</span>
<span class="token function">sudo</span> gpasswd -a neo root
<span class="token function">sudo</span> gpasswd -a neo <span class="token function">sudo</span>
<span class="token function">sudo</span> gpasswd -a neo admin
<span class="token function">sudo</span> gpasswd -a neo lpadmin

<span class="token function">sudo</span> <span class="token function">su</span> - neo
<span class="token function">cat</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">EOL<span class="token bash punctuation"> <span class="token operator">></span> ~/.xsessionrc</span>
export GNOME_SHELL_SESSION_MODE=ubuntu
export XDG_CURRENT_DESKTOP=ubuntu:GNOME
export XDG_DATA_DIRS=/usr/share/ubuntu:/usr/local/share:/usr/share:/var/lib/snapd/desktop
export XDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/etc/xdg
EOL</span>

<span class="token comment"># ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãŒã€ŒçŠ¶æ…‹: éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã€ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹</span>
<span class="token function">sudo</span> ufw status

<span class="token comment"># XRDP ã‚’å†èµ·å‹•ã™ã‚‹</span>
<span class="token function">sudo</span> systemctl restart xrdp
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> xrdp.service
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> xrdp-sesman.service

systemctl list-unit-files -t <span class="token function">service</span> <span class="token operator">|</span> <span class="token function">grep</span> xrdp
xrdp-sesman.service                            enabled
xrdp.service                                   enabled

<span class="token comment"># ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ SSH æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</span>
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s/PasswordAuthentication no/PasswordAuthentication yes/'</span> /etc/ssh/sshd_config
<span class="token function">sudo</span> /etc/init.d/ssh restart
</code></pre>
<p>ã“ã‚“ãªé¢¨ã«è¨­å®šã—ãŸã€‚</p>
<p>VCN ã® Security List ã¯ã€3389 ã‚„ 3390 ãƒãƒ¼ãƒˆãªã©ã¸ã®æ¥ç¶šã‚’è¨±å¯ã—ã¦ãŠã„ãŸã€‚ã—ã‹ã—ã€ã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ¥ç¶šã€ã§ <code>ã€Public IPã€‘:3389</code> ã¨å…¥åŠ›ã—ã¦ã‚‚æ¥ç¶šã§ããš <code>0x204</code> ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚ã©ã†ã‚‚ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ¥ç¶šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ VM ã«ã¾ã§åˆ°é”ã—ã¦ã„ãªã„ã‚ˆã†ã«è¦‹å—ã‘ã‚‰ã‚Œã‚‹ã€‚</p>
<p>ä»–ã«ã€VNC æ¥ç¶šã‚’è©¦ã—ã¦ã¿ãŸãŒã€ã‚³ãƒãƒ©ã‚‚ç†è§£ãŒåŠã°ãšã€è¦‹æ§˜è¦‹çœŸä¼¼ã§ã¯ä½•ã‚‚ã§ããªã‹ã£ãŸã€‚</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y tigervnc-standalone-server tightvncserver

<span class="token comment"># ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ±ºã‚ã‚‹ãƒ»è³ªå•ã¯ n ã§å›ç­”ã™ã‚‹</span>
vncserver :1

<span class="token comment"># çµ‚äº†ã™ã‚‹</span>
vncserver -kill :1

<span class="token builtin class-name">echo</span> <span class="token string">"exec gnome-session &#x26;"</span> <span class="token operator">|</span> <span class="token function">tee</span> ~/.vnc/xstartup
vncserver -localhost no
</code></pre>
<p>ã“ã‚“ãªé¢¨ã«ã™ã‚‹ã¨ <code>5901</code> ãƒãƒ¼ãƒˆã§ VNC æ¥ç¶šãŒã§ãã‚‹ã‚‰ã—ã„ãŒã€ä½•ã‹ CPU ä½¿ç”¨ç‡ãŒçˆ†ä¸ŠãŒã‚Šã—ã¦å…¨ãå‹•ã‹ãªããªã£ãŸã‚Šã¨ä¸èª¿ãŒå¤šãã€æ–­å¿µã—ãŸã€‚</p>
<h2 id="x-window-system-å‘¨ã‚Šã®çŸ¥è­˜ãªã•ã™ãã‚‹"><a class="header-link" href="#x-window-system-å‘¨ã‚Šã®çŸ¥è­˜ãªã•ã™ãã‚‹"><span class="header-link-mark"></span></a>X Window System å‘¨ã‚Šã®çŸ¥è­˜ãªã•ã™ãã‚‹â€¦</h2>
<p>LPIC Level 1 ã®å‹‰å¼·ã—ã¦ã‚‹ã¨ãã‚‚æ€ã£ã¦ãŸã‘ã©ã€Linux ã® GUI ç’°å¢ƒæ§‹ç¯‰å‘¨ã‚Šã®çŸ¥è­˜ãŒãªã•ã™ãã¦è¾›ã„ã€‚ä½•ãŒæ‚ªã„ã®ã‹ã€ã©ã“ã‚’èª¿ã¹ãŸã‚‰ã©ã†è§£æ±ºã§ãã‚‹ã®ã‹ã€å…¨ç„¶åˆ†ã‹ã‚‰ã‚“ã€‚</p>
<p>ä»Šå›ã¯ã‚‚ã†ã‚„ã‚‹æ°—ã‚‚å‰ŠãŒã‚ŒãŸã®ã§æ–­å¿µã™ã‚‹ã“ã¨ã«ã™ã‚‹ã€‚ã‚µã‚¯ãƒƒã¨ã‚„ã‚Œã‚‹ã‚„ã‚Šæ–¹èª°ã‹æ•™ãˆã¦ãã‚“ã‚ãƒ¼ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a class="header-link" href="#å‚è€ƒæ–‡çŒ®"><span class="header-link-mark"></span></a>å‚è€ƒæ–‡çŒ®</h2>
<ul>
  <li><a href="https://blog.treedown.net/entry/2018/02/23/010000">ç¹‹ãŒã‚‰ãªã„xrdpã‚’ã¨ã‚Šã‚ãˆãšç¹‹ã’ã‚‹ - treedown's Report</a></li>
  <li><a href="https://www.tenforums.com/tutorials/144208-windows-subsystem-linux-add-desktop-experience-ubuntu.html">https://www.tenforums.com/tutorials/144208-windows-subsystem-linux-add-desktop-experience-ubuntu.html</a></li>
  <li><a href="https://scratchpad.jp/debian-on-windows10-11/">Debianã‚’Windows10ä¸Šã§å‹•ã‹ã™ ãã®11: GUIã‚’ä½¿ã† (ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç·¨) | ãƒ¡ãƒ¢ç½®å ´ã®ãƒ–ãƒ­ã‚°</a></li>
  <li><a href="https://cpoint-lab.co.jp/article/201806/3238/">Ubuntu 18.04ã« xrdpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚‹ â€“ æ ªå¼ä¼šç¤¾ã‚·ãƒ¼ãƒã‚¤ãƒ³ãƒˆãƒ©ãƒœ ï½œ æµœæ¾ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ»RTK-GNSSé–‹ç™º</a></li>
  <li><a href="https://blog.treedown.net/entry/2018/02/23/010000">ç¹‹ãŒã‚‰ãªã„xrdpã‚’ã¨ã‚Šã‚ãˆãšç¹‹ã’ã‚‹ - treedown's Report</a></li>
  <li><a href="https://www.hiroom2.com/2018/04/28/ubuntu-1804-xrdp-gnome-ja/">Ubuntu 18.04: GNOMEãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã«XRDPã§æ¥ç¶šã™ã‚‹ - Narrow Escape</a></li>
  <li><a href="https://www.hiroom2.com/2017/10/04/ubuntu-1704-xrdp-gnome-ja/">Ubuntu 17.04: GNOMEãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã«XRDPã§æ¥ç¶šã™ã‚‹ - Narrow Escape</a></li>
  <li><a href="https://dev.to/darksmile92/linux-on-windows-wsl-with-desktop-environment-via-rdp-522g">Linux on Windows: WSL with Desktop Environment via RDP - DEV Community ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»</a></li>
  <li><a href="https://takjoe.hatenablog.com/entry/20180718/1531874664">Ubuntu 18.04 ã§ GUIãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–/æœ‰åŠ¹åŒ–ã™ã‚‹ - é£›å…‰ã‚ˆã€é£›å…‰ã‚ˆ</a></li>
  <li><a href="https://linux.just4fun.biz/?Ubuntu/Windows%E3%81%8B%E3%82%89Ubuntu%E3%81%AB%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%87%E3%82%B9%E3%82%AF%E3%83%88%E3%83%83%E3%83%97%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B">Ubuntu/Windowsã‹ã‚‰Ubuntuã«ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ¥ç¶šã™ã‚‹ - Linuxã¨éã”ã™</a></li>
  <li><a href="https://qiita.com/ryo-endo/items/00f3ec125917acf4cec7">ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã‚’Ubuntu 18.04 LTSã§ä½œæˆã™ã‚‹ - Qiita</a></li>
  <li><a href="https://qiita.com/mikuta0407/items/cc26eca306ff82e1d135">Ubuntu 18.04.2ã§xrdp(ã®Xorgãƒ¢ãƒ¼ãƒ‰)ãŒä½¿ãˆãªã„ã®ã§ä¸€æ™‚çš„ã«å‡Œã - Qiita</a></li>
  <li><a href="https://qiita.com/ishida330/items/e63ab64d1f94a9733b4f">å°ãƒã‚¿: IBM Cloudã®ä»®æƒ³ã‚µãƒ¼ãƒãƒ¼ã§GUIãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚’ä½¿ã„ãŸã‹ã£ãŸã®ã§xrdpè©¦ã—ãŸã‚‰ã€ã‹ãªã‚Šè‰¯ã‹ã£ãŸã®ã§æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¨ã - Qiita</a></li>
  <li><a href="https://qiita.com/osugizmo/items/21578272ae2db05ab001">AWS EC2ã§ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã‚’ã¤ãã‚‹ ï½ Ubuntu Server 18.04 LTS GNOMEç·¨ï½ - Qiita</a></li>
  <li><a href="http://verifiedby.me/adiary/0126">ubuntu 18.04 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(10) ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— - kashiã®æ—¥è¨˜</a></li>
  <li><a href="http://imamachi-n.hatenablog.com/entry/2018/04/28/211147">Windows10ã‚‚ã—ãã¯MacOSã‹ã‚‰Ubuntu 18.04 LTSã«ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶šï¼ˆãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰ã—ã¦ã¿ãŸ - ã„ã‚ã„ã‚è©¦ã—ã¦ã¿ã‚‹</a></li>
  <li><a href="http://kazuhito-m.github.io/tech/2015/10/20/aws-ubuntu-desktop">NBM2 - AWSã®Ubuntuã«VNCçµŒç”±ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã‚’æœ€é€Ÿã§ç«‹ã¦ã‚‹æ–¹æ³•</a></li>
</ul>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2020-04-09</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2020-04-09</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>â–² To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
