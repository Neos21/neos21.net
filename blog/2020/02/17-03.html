<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <!-- Open Graph・Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Neo's World">
    <meta property="og:title" content="CentOS Linux で BitZeny をマイニングしてみる - Neo's World">
    <meta property="og:description" content="CentOS Linux で BitZeny をマイニングしてみる - Neo's World">
    <meta property="og:url" content="https://neos21.net/blog/2020/02/17-03.html">
    <meta property="og:image" content="https://neos21.net/ogp.png">
    <meta property="og:locale" content="ja_JP">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="CentOS Linux で BitZeny をマイニングしてみる - Neo's World">
    <meta property="twitter:description" content="CentOS Linux で BitZeny をマイニングしてみる - Neo's World">
    <meta property="twitter:url" content="https://neos21.net/blog/2020/02/17-03.html">
    <meta property="twitter:image" content="https://neos21.net/ogp.png">
    <title>CentOS Linux で BitZeny をマイニングしてみる - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2020/02/17-03.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="Feeds" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <script src="/scripts.js"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-theme"><a href="#" title="Toggle Theme"><span>Toggle Theme</span></a></li>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2020/index.html">2020年</a></li>
            <li><a href="/blog/2020/02/index.html">02月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2020-02-17</time></div>
        <h1 id="page-title">CentOS Linux で BitZeny をマイニングしてみる</h1>

<p>以前、Monero (XMR) をマイニングするために MinerGate というソフトを Windows・Mac で動かしたりしていた。結果、GeForce GTX1080 では換金ラインまで貯めるのがしんどすぎて止めてしまった。</p>
<p>GPU マイニングはしんどいので、CPU でマイニングができるという <strong>BitZeny</strong> という暗号通貨をマイニングしてみた。コチラも旬は過ぎているのだが、お試しということで。</p><ins class="ins-block">
<p>2021-01-07 : BitZeny Wallet はセキュリティ上の懸念がありサービスが停止している。lapool.me もサイトが失効しているのか、アクセスできなくなっていた。この当時試してみた記録としてお楽しみください。</p></ins>
<h2 id="目次"><a class="header-link" href="#目次"><span class="header-link-mark"></span></a>目次</h2>
<ul>
  <li><a href="#bitzeny-wallet-%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B">BitZeny Wallet を登録する</a></li>
  <li><a href="#la-bitzeny-pool-%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B">LA BitZeny Pool に登録する</a></li>
  <li><a href="#centos-linux-%E3%81%AB-cpu-miner-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B">CentOS Linux に CPU Miner をインストールする</a></li>
  <li><a href="#%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0%E3%82%92%E5%A7%8B%E3%82%81%E3%81%A6%E3%81%BF%E3%82%8B">とりあえずマイニングを始めてみる</a></li>
  <li><a href="#cpu-%E4%BD%BF%E7%94%A8%E7%8E%87%E3%82%92%E5%88%B6%E9%99%90%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B">CPU 使用率を制限してみる</a></li>
  <li><a href="#%E3%83%90%E3%83%83%E3%82%AF%E3%82%B0%E3%83%A9%E3%82%A6%E3%83%B3%E3%83%89%E3%81%A7%E5%8B%95%E4%BD%9C%E3%81%95%E3%81%9B%E3%82%8B">バックグラウンドで動作させる</a></li>
  <li><a href="#%E3%82%A6%E3%82%A9%E3%83%AC%E3%83%83%E3%83%88%E3%81%B8%E3%81%AE%E6%89%95%E3%81%84%E5%87%BA%E3%81%97">ウォレットへの払い出し</a></li>
  <li><a href="#%E3%82%B3%E3%83%AC%E3%81%A7%E4%B8%80%E4%BD%93%E3%81%84%E3%81%8F%E3%82%89%E7%A8%BC%E3%81%92%E3%82%8B%E3%81%AE%E3%81%8B">コレで一体いくら稼げるのか？</a></li>
</ul>
<h2 id="bitzeny-wallet-を登録する"><a class="header-link" href="#bitzeny-wallet-を登録する"><span class="header-link-mark"></span></a>BitZeny Wallet を登録する</h2>
<p>まずは BitZeny を保管するオンライン・ウォレットを作成する。</p>
<ul>
  <li><a href="https://bitzeny.jp/">BitZeny Wallet - ログイン</a></li>
</ul>
<p>ウォレットアドレスが入手できたら、以下の Faucet でウォレットがちゃんと使えるか試してみよう。</p>
<ul>
  <li><a href="http://shiganairingozeny.chocottokozukai.click/bitzeny/faucet_top.php">SA BitZeny Faucet</a></li>
</ul>
<h2 id="la-bitzeny-pool-に登録する"><a class="header-link" href="#la-bitzeny-pool-に登録する"><span class="header-link-mark"></span></a>LA BitZeny Pool に登録する</h2>
<p>続いて、BitZeny のマイナープールで有名な LA Pool に登録する。</p>
<ul>
  <li><a href="https://lapool.me/bitzeny/">LA Bitzeny Pool - Home</a></li>
</ul>
<p>アカウント登録後、「Worker」を作成する。コレは、マイニングを行っているマシンを識別するための情報で、マシンごとに任意の</p>
<ul>
  <li>Worker Name</li>
  <li>Worker Password</li>
</ul>
<p>を作成する。今回はとりあえず1つ作っておけば良いだろう。</p>
<h2 id="centos-linux-に-cpu-miner-をインストールする"><a class="header-link" href="#centos-linux-に-cpu-miner-をインストールする"><span class="header-link-mark"></span></a>CentOS Linux に CPU Miner をインストールする</h2>
<p>BitZeny を CPU マイニングするための <em>CPU Miner</em> というツールを、CentOS Linux にインストールしていく。</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># 以降 root ユーザで作業する</span>
$ <span class="token function">sudo</span> <span class="token function">su</span> -

<span class="token comment"># 事前に必要なパッケージをインストールする</span>
$ yum update -y
$ yum <span class="token function">install</span> -y <span class="token function">git</span> gcc automake autoconf libcurl-devel openssl-devel jansson-devel <span class="token function">gawk</span>

<span class="token comment"># CPU Miner をダウンロードしてくる</span>
$ <span class="token function">git</span> clone https://github.com/bitzeny/cpuminer cpuminer
$ <span class="token builtin class-name">cd</span> cpuminer/

<span class="token comment"># セットアップしていく</span>
$ ./autogen.sh
configure.ac:15: installing <span class="token string">'./compile'</span>
configure.ac:4: installing <span class="token string">'./config.guess'</span>
configure.ac:4: installing <span class="token string">'./config.sub'</span>
configure.ac:6: installing <span class="token string">'./install-sh'</span>
configure.ac:6: installing <span class="token string">'./missing'</span>
Makefile.am:12: warning: <span class="token string">'INCLUDES'</span> is the old name <span class="token keyword">for</span> <span class="token string">'AM_CPPFLAGS'</span> <span class="token punctuation">(</span>or <span class="token string">'*_CPPFLAGS'</span><span class="token punctuation">)</span>
Makefile.am: installing <span class="token string">'./INSTALL'</span>
Makefile.am: installing <span class="token string">'./depcomp'</span>

$ ./configure
checking build system type<span class="token punctuation">..</span>. x86_64-unknown-linux-gnu
<span class="token comment"># …中略…</span>
checking <span class="token keyword">for</span> curl_free<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking that generated files are newer than configure<span class="token punctuation">..</span>. <span class="token keyword">done</span>
configure: creating ./config.status
config.status: creating Makefile
config.status: creating compat/Makefile
config.status: creating compat/jansson/Makefile
config.status: creating cpuminer-config.h
config.status: executing depfiles commands

$ <span class="token function">make</span>
<span class="token function">make</span>  all-recursive
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer'
Making all <span class="token keyword">in</span> compat
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token variable">`</span></span>/root/cpuminer/compat<span class="token string">'
make[3]: Entering directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer/compat'
make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword">done</span> <span class="token keyword">for</span> <span class="token variable">`</span></span>all-am'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer/compat'
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable">`</span></span>/root/cpuminer/compat<span class="token string">'
make[2]: Entering directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer'
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-cpu-miner.o -MD -MP -MF .deps/minerd-cpu-miner.Tpo -c -o minerd-cpu-miner.o <span class="token variable">`</span></span>test -f '</span>cpu-miner.c<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>cpu-miner.c
<span class="token function">mv</span> -f .deps/minerd-cpu-miner.Tpo .deps/minerd-cpu-miner.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-util.o -MD -MP -MF .deps/minerd-util.Tpo -c -o minerd-util.o <span class="token variable">`</span></span>test -f '</span>util.c<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>util.c
<span class="token function">mv</span> -f .deps/minerd-util.Tpo .deps/minerd-util.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-sha2.o -MD -MP -MF .deps/minerd-sha2.Tpo -c -o minerd-sha2.o <span class="token variable">`</span></span>test -f '</span>sha2.c<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>sha2.c
<span class="token function">mv</span> -f .deps/minerd-sha2.Tpo .deps/minerd-sha2.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-scrypt.o -MD -MP -MF .deps/minerd-scrypt.Tpo -c -o minerd-scrypt.o <span class="token variable">`</span></span>test -f '</span>scrypt.c<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>scrypt.c
<span class="token function">mv</span> -f .deps/minerd-scrypt.Tpo .deps/minerd-scrypt.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-yescrypt.o -MD -MP -MF .deps/minerd-yescrypt.Tpo -c -o minerd-yescrypt.o <span class="token variable">`</span></span>test -f '</span>yescrypt.c<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>yescrypt.c
In <span class="token function">file</span> included from yescrypt-best.c:2:0,
                 from yescrypt.c:22:
yescrypt-simd.c:37:2: warning: <span class="token comment">#warning "Consider enabling SSE4.1, AVX, or XOP in the C compiler for significantly better performance" [-Wcpp]</span>
 <span class="token comment">#warning "Consider enabling SSE4.1, AVX, or XOP in the C compiler for significantly better performance"</span>
  ^
<span class="token function">mv</span> -f .deps/minerd-yescrypt.Tpo .deps/minerd-yescrypt.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-sha2-x64.o -MD -MP -MF .deps/minerd-sha2-x64.Tpo -c -o minerd-sha2-x64.o <span class="token variable">`</span></span>test -f '</span>sha2-x64.S<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>sha2-x64.S
<span class="token function">mv</span> -f .deps/minerd-sha2-x64.Tpo .deps/minerd-sha2-x64.Po
gcc -std<span class="token operator">=</span>gnu99 -DHAVE_CONFIG_H -I. -pthread -fno-strict-aliasing     -g -O2 -MT minerd-scrypt-x64.o -MD -MP -MF .deps/minerd-scrypt-x64.Tpo -c -o minerd-scrypt-x64.o <span class="token variable">`</span></span>test -f '</span>scrypt-x64.S<span class="token string">' || echo '</span>./<span class="token string">'<span class="token variable"><span class="token variable">`</span>scrypt-x64.S
<span class="token function">mv</span> -f .deps/minerd-scrypt-x64.Tpo .deps/minerd-scrypt-x64.Po
gcc -std<span class="token operator">=</span>gnu99  -g -O2 -pthread  -o minerd minerd-cpu-miner.o minerd-util.o minerd-sha2.o minerd-scrypt.o minerd-yescrypt.o  minerd-sha2-x64.o minerd-scrypt-x64.o  -lcurl   -ljansson -lpthread
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable">`</span></span>/root/cpuminer'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer'

$ <span class="token function">make</span> <span class="token function">install</span>
Making <span class="token function">install</span> <span class="token keyword">in</span> compat
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token variable">`</span></span>/root/cpuminer/compat<span class="token string">'
make[2]: Entering directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer/compat'
make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: Entering directory <span class="token variable">`</span></span>/root/cpuminer/compat'</span>
make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword">done</span> <span class="token keyword">for</span> <span class="token variable"><span class="token variable">`</span>install-exec-am'.
make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword">done</span> <span class="token keyword">for</span> <span class="token variable">`</span></span>install-data-am<span class="token string">'.
make[3]: Leaving directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer/compat'
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable">`</span></span>/root/cpuminer/compat'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer/compat'
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token variable">`</span></span>/root/cpuminer<span class="token string">'
make[2]: Entering directory <span class="token variable"><span class="token variable">`</span>/root/cpuminer<span class="token string">'
 /bin/mkdir -p '</span>/usr/local/bin<span class="token string">'
  /bin/install -c minerd '</span>/usr/local/bin<span class="token string">'
 /bin/mkdir -p '</span>/usr/local/share/man/man1<span class="token string">'
 /bin/install -c -m 644 minerd.1 '</span>/usr/local/share/man/man1'
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token variable">`</span></span>/root/cpuminer'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory `/root/cpuminer'
</code></pre>
<p>ココまでやったらセットアップ完了。以下のコマンドで CPU Miner (<code>minerd</code>) が動作するか確認する。</p>
<pre class="language-bash"><code class="language-bash">$ ./minerd --help
</code></pre>
<p>そしたら、マイニングするユーザ情報を記録した JSON ファイルを作成する。ファイル名は適当に <code>setting.json</code> としておく。</p>
<ul>
  <li><code>setting.json</code></li>
</ul>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"algo"</span>  <span class="token operator">:</span> <span class="token string">"yescrypt"</span><span class="token punctuation">,</span>
  <span class="token property">"url"</span>   <span class="token operator">:</span> <span class="token string">"stratum+tcp://jp.lapool.me:3014"</span><span class="token punctuation">,</span>
  <span class="token property">"user"</span>  <span class="token operator">:</span> <span class="token string">"【LA BitZeny Pool の User 名】.【Worker 名】"</span><span class="token punctuation">,</span>
  <span class="token property">"pass"</span>  <span class="token operator">:</span> <span class="token string">"【Worker Password】"</span>
<span class="token punctuation">}</span>
</code></pre>
<p>LA BitZeny Pool に登録した各種情報が必要になる。</p>
<ul>
  <li><code>url</code> プロパティに指定する URL は、LA BitZeny Pool の管理画面にある「ポート一覧」より確認できる。
    <ul>
      <li>参考 : <a href="https://lapool.me/bitzeny/">LA Bitzeny Pool - Home</a></li>
      <li>ハッシュレートに応じて難易度が調整されている。上で書いてあるのは yescript-0.5 アルゴリズムによる、Difficulty 0.1 のポート</li>
    </ul>
  </li>
  <li><code>user</code> プロパティは <code>user_name.worker_name</code> とピリオド <code>.</code> で繋いで記述する</li>
  <li><code>pass</code> プロパティは Worker のパスワードを入れる
    <ul>
      <li>LA BitZeny Pool の画面で登録しておいた Worker 情報を指定する</li>
    </ul>
  </li>
</ul>
<h2 id="とりあえずマイニングを始めてみる"><a class="header-link" href="#とりあえずマイニングを始めてみる"><span class="header-link-mark"></span></a>とりあえずマイニングを始めてみる</h2>
<p>以上の設定を行ったら、次のようにコマンドを叩くとマイニングが開始される。</p>
<pre class="language-bash"><code class="language-bash">$ ./minerd --config setting.json
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:01<span class="token punctuation">]</span> <span class="token number">2</span> miner threads started, using <span class="token string">'yescrypt'</span> algorithm.
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:01<span class="token punctuation">]</span> Starting Stratum on stratum+tcp://jp.lapool.me:3014
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:01<span class="token punctuation">]</span> Binding thread <span class="token number">1</span> to cpu <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:01<span class="token punctuation">]</span> Binding thread <span class="token number">0</span> to cpu <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:36<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">4096</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:21:37<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">4096</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:22:37<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">7183</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:22:37<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">7122</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:36<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">7073</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:36<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">7148</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:39<span class="token punctuation">]</span> Stratum requested work restart
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:39<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">302</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:39<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">310</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:51<span class="token punctuation">]</span> Stratum requested work restart
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:51<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">1438</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:23:51<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">1434</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:24:03<span class="token punctuation">]</span> Stratum requested work restart
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:24:03<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">1423</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:24:03<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">1436</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:25:03<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">7132</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:25:04<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">7182</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:25:57<span class="token punctuation">]</span> Stratum requested work restart
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:25:57<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">6081</span> hashes, <span class="token number">0.11</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:25:57<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">5882</span> hashes, <span class="token number">0.11</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:26:03<span class="token punctuation">]</span> Stratum requested work restart
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:26:03<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">699</span> hashes, <span class="token number">0.12</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:26:03<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">630</span> hashes, <span class="token number">0.10</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:26:59<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">6287</span> hashes, <span class="token number">0.11</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:27:04<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">6907</span> hashes, <span class="token number">0.11</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:27:58<span class="token punctuation">]</span> thread <span class="token number">0</span>: <span class="token number">6555</span> hashes, <span class="token number">0.11</span> khash/s
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:27:58<span class="token punctuation">]</span> accepted: <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span>, <span class="token number">0.22</span> khash/s <span class="token punctuation">(</span>yay<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2020</span>-01-07 <span class="token number">14</span>:28:04<span class="token punctuation">]</span> thread <span class="token number">1</span>: <span class="token number">6769</span> hashes, <span class="token number">0.11</span> khash/s
</code></pre>
<p>別ウィンドウを開いて <code>ps</code> コマンドを叩いてみると、<code>minerd</code> というプロセスが動いているのが分かるだろう。</p>
<p>数分待って、<code>(yay!!!)</code> といった出力が出ていれば、マイニングが出来ている。しばらくすると LA BitZeny Pool の Dashboard で、獲得した BitZeny が確認できるようになる。</p>
<p>自分の場合、マイニングを始めてから5・6分で、 <em>0.008742 ZNY</em> が Unconfirmed として追加された。コレは本稿執筆時点で0.0005996円程度に相当する (……少なすぎない？ｗ)。</p>
<p>マイニングできることが分かったら、<code>Ctrl + C</code> で終了しよう。</p>
<h2 id="cpu-使用率を制限してみる"><a class="header-link" href="#cpu-使用率を制限してみる"><span class="header-link-mark"></span></a>CPU 使用率を制限してみる</h2>
<p>マイニングを始めると、<code>minerd</code> プロセスが起動してガンガン CPU を使い始める。クラウド上の VM なんかでガンガンに CPU を使ったりしていると何となくアレなので、<strong>cpulimit</strong> というツールを使って、CPU 使用率でプロセスの動作を制限してみようと思う。</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># CPU Limit をインストールする</span>
$ yum <span class="token function">install</span> -y cpulimit

<span class="token comment"># CPU 使用率を 80% に制限してマイニングを行う</span>
$ cpulimit -l <span class="token number">80</span> -- ./minerd --config setting.json
</code></pre>
<p>こんな感じ。</p>
<p>別ウィンドウを開いたりして <code>top</code> コマンドを使って確認すると、CPU 使用率が制限できているのが分かるかと。</p>
<h2 id="バックグラウンドで動作させる"><a class="header-link" href="#バックグラウンドで動作させる"><span class="header-link-mark"></span></a>バックグラウンドで動作させる</h2>
<p>さて、ココまでのやり方だと、プロセスはフォアグラウンドで動いていて、SSH 接続時はログアウトとともにマイニングが終了してしまう。そこで、プロセスをバックグラウンドで起動し、ログアウトして SSH 接続を切断した後も <code>minerd</code> プロセスが動きっぱなしになるようにしてみる。</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># CPU Limit を使わないでバックグラウンド実行する場合</span>
$ <span class="token function">nohup</span> ./minerd --config setting.json <span class="token operator">&#x26;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">9067</span>
nohup: 入力を無視し、出力を <span class="token variable"><span class="token variable">`</span>nohup.out' に追記します
<span class="token comment"># (Enter で抜ける)</span>

<span class="token comment"># CPU 使用率を制限しながらバックグラウンド実行する場合</span>
$ <span class="token function">nohup</span> cpulimit -l <span class="token number">80</span> -- ./minerd --config setting.json <span class="token operator">&#x26;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">9067</span>
nohup: 入力を無視し、出力を <span class="token variable">`</span></span>nohup.out' に追記します
<span class="token comment"># (Enter で抜ける)</span>
</code></pre>
<p><code>nohup</code> でバックグラウンド実行している際の標準出力は <code>nohup.out</code> というファイルに順次追記されていくので、</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">tail</span> -f nohup.out
</code></pre>
<p>とかすればバックグラウンドでの動作状況が確認できる。</p>
<h2 id="ウォレットへの払い出し"><a class="header-link" href="#ウォレットへの払い出し"><span class="header-link-mark"></span></a>ウォレットへの払い出し</h2>
<p>マイニングで獲得した BitZeny は、LA BitZeny Pool の管理画面より、指定のウォレットアドレスへ払い出せる。LA BitZeny Pool に貯めておくよりは、定期的にウォレットに移しておくと良いだろう。</p>
<p>BitZeny からの換金はまだ試していないが、BitZeny を取り扱っている取引所で BitCoin 等に換金し、それを日本円に換金すれば現金化できそう。</p>
<h2 id="コレで一体いくら稼げるのか"><a class="header-link" href="#コレで一体いくら稼げるのか"><span class="header-link-mark"></span></a>コレで一体いくら稼げるのか？</h2>
<p>さて、CPU Miner の動かし方が分かったので、コレでガンガンマイニングしてみよう。</p>
<p>今回は、<em>OCI の Always Free インスタンス2台で、24時間</em>マイニングしてみた。</p>
<p>その結果採掘できた金額は、<strong>6.761123 ZNY</strong> だった (うち、Confirmed となった額は 5.94 ZNY)。コレは本稿執筆時点の日本円に換算して<strong>0.4812円</strong>程度。</p>
<p>永久無料で使える VM だと、2台がかりで1日0.5円かぁ〜…。</p>
<p><strong>やめた。笑〃</strong></p>
<ul>
  <li>参考 : <a href="https://toushi.tokyo/centos%E3%81%A7%E3%83%93%E3%83%83%E3%83%88%E3%82%BC%E3%83%8B%E3%83%BC%EF%BC%88zny%EF%BC%89%E3%82%92%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/">https://toushi.tokyo/centos%E3%81%A7%E3%83%93%E3%83%83%E3%83%88%E3%82%BC%E3%83%8B%E3%83%BC%EF%BC%88zny%EF%BC%89%E3%82%92%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/</a></li>
  <li>参考 : <a href="https://bombox.net/cryptocurrency/bitzeny-on-ubuntu/">【BitZeny】Ubuntu/Linuxでマイニングを始める方法！ | BomBox</a></li>
  <li>参考 : <a href="https://mycoin.jp/2018/01/08/bitzeny-mining/">BitZenyをWindowsやLinuxでマイニングして手に入れる方法 | My Coin .jp</a></li>
  <li>参考 : <a href="http://shiganairingozeny.chocottokozukai.click/bitzeny/faucet_top.php">SA BitZeny Faucet</a></li>
  <li>参考 : <a href="https://temlog.net/mining-bitzeny/">Ubuntu/LinuxでBitzenyをマイニングする方法をわかりやすく紹介！ | TEMLOG -テムログ-</a></li>
  <li>参考 : <a href="http://sha1coin.cswiki.jp/index.php?LA%20Pool%E3%81%B8%E3%81%AE%E7%99%BB%E9%8C%B2%E3%81%A8%E8%A8%AD%E5%AE%9A">LA Poolへの登録と設定 - Sha1coin Unofficial Wiki</a></li>
  <li>参考 : <a href="https://w.atwiki.jp/sakuracoin/pages/24.html">採掘プールの見方 - Sakuracoin 非公式wiki - アットウィキ</a></li>
</ul>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2020-02-17</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2020-02-17</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
