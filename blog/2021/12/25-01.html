<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0990d0">
    <!-- Google Search Console -->
    <meta name="google-site-verification" content="AvoEr3mUJFF2H_mPWWgShfmjBVP3ywRpyx9hxeeq2d4">
    <title>Laravel ちょっとだけやってみた - Neo's World</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://neos21.net/blog/2021/12/25-01.html">
    <link rel="search" type="application/opensearchdescription+xml" title="neos21.net" href="/opensearch.xml">
    <link rel="alternate" type="application/atom+xml" href="/feeds.xml">
    <link rel="author" href="http://www.hatena.ne.jp/neos21/">
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMHFLZP1M1"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YMHFLZP1M1');gtag('config','UA-106501-1');</script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6475907504235292" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="container">
      <header id="header">
        <div id="header-brand">
          <div id="header-brand-contents">
            <div id="site-title"><a href="/index.html">Neo's World</a></div>
            <nav id="header-links">
              <ul>
                <li id="header-link-about"><a href="/about/index.html" title="About"><span>About</span></a></li>
                <li id="header-link-search"><a href="/about/search.html" title="Search"><span>Search</span></a></li>
                <li id="header-link-feeds"><a href="/feeds.xml" title="Feeds"><span>Feeds</span></a></li>
                <li id="header-link-to-bottom"><a href="#footer" title="To Bottom"><span>▼ To Bottom</span></a></li>
              </ul>
            </nav>
          </div>
        </div>
        <nav id="global-nav">
          <ul>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/tech/index.html">Tech</a></li>
            <li><a href="/music/index.html">Music</a></li>
            <li><a href="/games/index.html">Games</a></li>
            <li><a href="/gallery/index.html">Gallery</a></li>
            <li><a href="/etc/index.html">Etc.</a></li>
          </ul>
        </nav>
        <nav id="path">
          <ul>
            <li><a href="/index.html">Neo's World</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/blog/2021/index.html">2021年</a></li>
            <li><a href="/blog/2021/12/index.html">12月</a></li>
          </ul>
        </nav>
      </header>
      <main id="main">
        <div id="header-date"><time>2021-12-25</time></div>
        <h1 id="page-title">Laravel ちょっとだけやってみた</h1>

<p>PHP 製の Ruby on Rails みたいな感じのフレームワーク、<strong>Laravel</strong> を触ってみることにした。</p>
<h2 id="目次"><a class="header-link" href="#目次"><span class="header-link-mark"></span></a>目次</h2>
<ul>
  <li><a href="#composer-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B">Composer をインストールする</a></li>
  <li><a href="#laravel-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B">Laravel をインストールする</a></li>
  <li><a href="#laravel-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B">Laravel プロジェクトを作ってみる</a></li>
  <li><a href="#%E9%96%8B%E7%99%BA%E3%82%B5%E3%83%BC%E3%83%90%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B">開発サーバを起動してみる</a></li>
  <li><a href="#%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92%E3%82%A4%E3%82%B8%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B">ルーティングをイジってみる</a></li>
  <li><a href="#%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B">コントローラを作ってみる</a></li>
  <li><a href="#%E4%BB%8A%E5%9B%9E%E3%81%AF%E3%82%B3%E3%82%B3%E3%81%BE%E3%81%A7">今回はココまで</a></li>
</ul>
<h2 id="composer-をインストールする"><a class="header-link" href="#composer-をインストールする"><span class="header-link-mark"></span></a>Composer をインストールする</h2>
<p>PHP に関しては何も設定していない素の Mac 環境だったので、まずは PHP のパッケージ管理ツールである <em>Composer</em> のインストールから。</p>
<ul>
  <li>参考：<a href="https://weblabo.oscasierra.net/php-composer-macos-homebrew-install/">ComposerをmacOSにHomebrewでインストールする手順 |</a></li>
</ul>
<pre class="language-bash"><code class="language-bash">$ php --version
PHP <span class="token number">8.1</span>.0 <span class="token punctuation">(</span>cli<span class="token punctuation">)</span> <span class="token punctuation">(</span>built: Nov <span class="token number">28</span> <span class="token number">2021</span> 04:13:56<span class="token punctuation">)</span> <span class="token punctuation">(</span>NTS<span class="token punctuation">)</span>
Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> The PHP Group
Zend Engine v4.1.0, Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> Zend Technologies
    with Zend OPcache v8.1.0, Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span>, by Zend Technologies

$ brew <span class="token function">install</span> <span class="token function">composer</span>
$ <span class="token function">composer</span> --version
Composer version <span class="token number">2.1</span>.14 <span class="token number">2021</span>-11-30 <span class="token number">10</span>:51:43
</code></pre>
<p>Homebrew でササッと入れる。</p>
<h2 id="laravel-をインストールする"><a class="header-link" href="#laravel-をインストールする"><span class="header-link-mark"></span></a>Laravel をインストールする</h2>
<p>この時まだ気づいていないのだが、以下の Laravel v4.2 のページを見ながら作業してしまっていた。</p>
<ul>
  <li>参考：<a href="https://readouble.com/laravel/4.2/ja/quick.html">Laravelクイックスタート 4.2 Laravel</a></li>
</ul>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">composer</span> global require <span class="token string">"laravel/installer=~1.1"</span>
Changed current directory to /Users/neo/.composer
./composer.json has been created
Running <span class="token function">composer</span> update laravel/installer
Loading <span class="token function">composer</span> repositories with package information
Updating dependencies
Lock <span class="token function">file</span> operations: <span class="token number">19</span> installs, <span class="token number">0</span> updates, <span class="token number">0</span> removals
  - Locking guzzlehttp/guzzle <span class="token punctuation">(</span><span class="token number">6.5</span>.5<span class="token punctuation">)</span>
  - Locking guzzlehttp/promises <span class="token punctuation">(</span><span class="token number">1.5</span>.1<span class="token punctuation">)</span>
  - Locking guzzlehttp/psr7 <span class="token punctuation">(</span><span class="token number">1.8</span>.3<span class="token punctuation">)</span>
  - Locking laravel/installer <span class="token punctuation">(</span>v1.5.0<span class="token punctuation">)</span>
  - Locking psr/container <span class="token punctuation">(</span><span class="token number">1.1</span>.2<span class="token punctuation">)</span>
  - Locking psr/http-message <span class="token punctuation">(</span><span class="token number">1.0</span>.1<span class="token punctuation">)</span>
  - Locking ralouphie/getallheaders <span class="token punctuation">(</span><span class="token number">3.0</span>.3<span class="token punctuation">)</span>
  - Locking symfony/console <span class="token punctuation">(</span>v4.4.34<span class="token punctuation">)</span>
  - Locking symfony/deprecation-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>
  - Locking symfony/filesystem <span class="token punctuation">(</span>v4.4.27<span class="token punctuation">)</span>
  - Locking symfony/polyfill-ctype <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Locking symfony/polyfill-intl-idn <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Locking symfony/polyfill-intl-normalizer <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Locking symfony/polyfill-mbstring <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>
  - Locking symfony/polyfill-php72 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Locking symfony/polyfill-php73 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Locking symfony/polyfill-php80 <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>
  - Locking symfony/process <span class="token punctuation">(</span>v4.4.35<span class="token punctuation">)</span>
  - Locking symfony/service-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>
Writing lock <span class="token function">file</span>
Installing dependencies from lock <span class="token function">file</span> <span class="token punctuation">(</span>including require-dev<span class="token punctuation">)</span>
Package operations: <span class="token number">19</span> installs, <span class="token number">0</span> updates, <span class="token number">0</span> removals
  - Downloading guzzlehttp/promises <span class="token punctuation">(</span><span class="token number">1.5</span>.1<span class="token punctuation">)</span>
  - Downloading ralouphie/getallheaders <span class="token punctuation">(</span><span class="token number">3.0</span>.3<span class="token punctuation">)</span>
  - Downloading psr/http-message <span class="token punctuation">(</span><span class="token number">1.0</span>.1<span class="token punctuation">)</span>
  - Downloading guzzlehttp/psr7 <span class="token punctuation">(</span><span class="token number">1.8</span>.3<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-php80 <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>
  - Downloading symfony/process <span class="token punctuation">(</span>v4.4.35<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-ctype <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Downloading symfony/filesystem <span class="token punctuation">(</span>v4.4.27<span class="token punctuation">)</span>
  - Downloading symfony/deprecation-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>
  - Downloading psr/container <span class="token punctuation">(</span><span class="token number">1.1</span>.2<span class="token punctuation">)</span>
  - Downloading symfony/service-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-php73 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-mbstring <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>
  - Downloading symfony/console <span class="token punctuation">(</span>v4.4.34<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-php72 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-intl-normalizer <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Downloading symfony/polyfill-intl-idn <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>
  - Downloading guzzlehttp/guzzle <span class="token punctuation">(</span><span class="token number">6.5</span>.5<span class="token punctuation">)</span>
  - Downloading laravel/installer <span class="token punctuation">(</span>v1.5.0<span class="token punctuation">)</span>
  - Installing guzzlehttp/promises <span class="token punctuation">(</span><span class="token number">1.5</span>.1<span class="token punctuation">)</span>: Extracting archive
  - Installing ralouphie/getallheaders <span class="token punctuation">(</span><span class="token number">3.0</span>.3<span class="token punctuation">)</span>: Extracting archive
  - Installing psr/http-message <span class="token punctuation">(</span><span class="token number">1.0</span>.1<span class="token punctuation">)</span>: Extracting archive
  - Installing guzzlehttp/psr7 <span class="token punctuation">(</span><span class="token number">1.8</span>.3<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-php80 <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/process <span class="token punctuation">(</span>v4.4.35<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-ctype <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/filesystem <span class="token punctuation">(</span>v4.4.27<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/deprecation-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>: Extracting archive
  - Installing psr/container <span class="token punctuation">(</span><span class="token number">1.1</span>.2<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/service-contracts <span class="token punctuation">(</span>v2.5.0<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-php73 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-mbstring <span class="token punctuation">(</span>v1.23.1<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/console <span class="token punctuation">(</span>v4.4.34<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-php72 <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-intl-normalizer <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>: Extracting archive
  - Installing symfony/polyfill-intl-idn <span class="token punctuation">(</span>v1.23.0<span class="token punctuation">)</span>: Extracting archive
  - Installing guzzlehttp/guzzle <span class="token punctuation">(</span><span class="token number">6.5</span>.5<span class="token punctuation">)</span>: Extracting archive
  - Installing laravel/installer <span class="token punctuation">(</span>v1.5.0<span class="token punctuation">)</span>: Extracting archive
<span class="token number">6</span> package suggestions were added by new dependencies, use <span class="token variable"><span class="token variable">`</span><span class="token function">composer</span> suggest<span class="token variable">`</span></span> to see details.
Generating autoload files
<span class="token number">14</span> packages you are using are looking <span class="token keyword">for</span> funding.
Use the <span class="token variable"><span class="token variable">`</span><span class="token function">composer</span> fund<span class="token variable">`</span></span> <span class="token builtin class-name">command</span> to <span class="token function">find</span> out more<span class="token operator">!</span>

$ <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"<span class="token variable">${<span class="token environment constant">HOME</span>}</span>/.composer/vendor/bin:<span class="token variable">${<span class="token environment constant">PATH</span>}</span>"</span>

$ laravel
Laravel Installer <span class="token number">1.5</span>.0

Usage:
  <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>arguments<span class="token punctuation">]</span>

Options:
  -h, --help            Display this <span class="token builtin class-name">help</span> message
  -q, --quiet           Do not output any message
  -V, --version         Display this application version
      --ansi            Force ANSI output
      --no-ansi         Disable ANSI output
  -n, --no-interaction  Do not ask any interactive question
  -v<span class="token operator">|</span>vv<span class="token operator">|</span>vvv, --verbose  Increase the verbosity of messages: <span class="token number">1</span> <span class="token keyword">for</span> normal output, <span class="token number">2</span> <span class="token keyword">for</span> <span class="token function">more</span> verbose output and <span class="token number">3</span> <span class="token keyword">for</span> debug

Available commands:
  <span class="token builtin class-name">help</span>  Display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> a <span class="token builtin class-name">command</span>
  list  List commands
  new   Create a new Laravel application.
</code></pre>
<p>とりあえず <code>laravel</code> コマンドが入った。コレはプロジェクトを新規作成するためのコマンドらしい</p>
<h2 id="laravel-プロジェクトを作ってみる"><a class="header-link" href="#laravel-プロジェクトを作ってみる"><span class="header-link-mark"></span></a>Laravel プロジェクトを作ってみる</h2>
<p><code>laravel new</code> コマンドでプロジェクトを作ってみようとするが、エラーが出てしまった。</p>
<pre class="language-bash"><code class="language-bash">$ laravel new practice-laravel
Crafting application<span class="token punctuation">..</span>.

In RequestException.php line <span class="token number">113</span>:
                                                                                                     
  Client error: <span class="token variable"><span class="token variable">`</span>GET http://cabinet.laravel.com/latest.zip<span class="token variable">`</span></span> resulted <span class="token keyword">in</span> a <span class="token variable"><span class="token variable">`</span><span class="token number">404</span> Not Found<span class="token variable">`</span></span> response:  
  <span class="token operator">&#x3C;</span>html<span class="token operator">></span>                                                                                             
  <span class="token operator">&#x3C;</span>head<span class="token operator">></span><span class="token operator">&#x3C;</span>title<span class="token operator">></span><span class="token number">404</span> Not Found<span class="token operator">&#x3C;</span>/title<span class="token operator">></span><span class="token operator">&#x3C;</span>/head<span class="token operator">></span>                                                          
  <span class="token operator">&#x3C;</span>body<span class="token operator">></span>                                                                                             
  <span class="token operator">&#x3C;</span>center<span class="token operator">></span><span class="token operator">&#x3C;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>></span><span class="token number">404</span> Not Found<span class="token operator">&#x3C;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>></span><span class="token operator">&#x3C;</span>/center<span class="token operator">></span>                                                            
  <span class="token operator">&#x3C;</span>hr<span class="token operator">></span><span class="token operator">&#x3C;</span>center<span class="token operator">></span>nginx<span class="token operator">&#x3C;</span>/c <span class="token punctuation">(</span>truncated<span class="token punctuation">..</span>.<span class="token punctuation">)</span>
</code></pre>
<p>ココで何やら、自分が参考にしていたページが古いことに気付く。</p>
<ul>
  <li>参考：<a href="https://qiita.com/tatatagroup/items/fe6d996a9b36a97cfa72">Laravel で「Server error: GET http://cabinet.laravel.com/latest.zip resulted in a 522 Origin Connection Time-out response:」エラー - Qiita</a></li>
  <li>参考：<a href="https://stackoverflow.com/questions/64686037/why-do-i-get-a-laravel-error-while-creating-a-new-project">php - Why do I get a laravel error while creating a new project? - Stack Overflow</a></li>
</ul>
<p>Composer で Laravel Installer をインストールし直してみると、バージョンが 1.5.0 から 4.2.9 に上がった。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">composer</span> global remove laravel/installer
$ <span class="token function">composer</span> global require laravel/installer
$ laravel --version
Laravel Installer <span class="token number">4.2</span>.9

$ laravel new practice-laravel

 _                               _
<span class="token operator">|</span> <span class="token operator">|</span>                             <span class="token operator">|</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span>     __ _ _ __ __ ___   _____<span class="token operator">|</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span>    / _<span class="token variable"><span class="token variable">`</span> <span class="token operator">|</span> '__/ _<span class="token variable">`</span></span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> / / _ <span class="token punctuation">\</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span>___<span class="token operator">|</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span><span class="token punctuation">\</span> V /  __/ <span class="token operator">|</span>
<span class="token operator">|</span>______<span class="token punctuation">\</span>__,_<span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token punctuation">\</span>__,_<span class="token operator">|</span> <span class="token punctuation">\</span>_/ <span class="token punctuation">\</span>___<span class="token operator">|</span>_<span class="token operator">|</span>

Creating a <span class="token string">"laravel/laravel"</span> project at <span class="token string">"./practice-laravel"</span>
Installing laravel/laravel <span class="token punctuation">(</span>v8.6.9<span class="token punctuation">)</span>
  - Downloading laravel/laravel <span class="token punctuation">(</span>v8.6.9<span class="token punctuation">)</span>
  - Installing laravel/laravel <span class="token punctuation">(</span>v8.6.9<span class="token punctuation">)</span>: Extracting archive
Created project <span class="token keyword">in</span> /Users/neo/practice-laravel
<span class="token operator">></span> @php -r <span class="token string">"file_exists('.env') || copy('.env.example', '.env');"</span>
Loading <span class="token function">composer</span> repositories with package information
Updating dependencies
Lock <span class="token function">file</span> operations: <span class="token number">110</span> installs, <span class="token number">0</span> updates, <span class="token number">0</span> removals
<span class="token punctuation">..</span>. <span class="token punctuation">(</span>略<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
  - Locking webmozart/assert <span class="token punctuation">(</span><span class="token number">1.10</span>.0<span class="token punctuation">)</span>
Writing lock <span class="token function">file</span>
Installing dependencies from lock <span class="token function">file</span> <span class="token punctuation">(</span>including require-dev<span class="token punctuation">)</span>
Package operations: <span class="token number">110</span> installs, <span class="token number">0</span> updates, <span class="token number">0</span> removals
<span class="token punctuation">..</span>. <span class="token punctuation">(</span>略<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
  - Downloading phpunit/phpunit <span class="token punctuation">(</span><span class="token number">9.5</span>.10<span class="token punctuation">)</span>
<span class="token punctuation">..</span>. <span class="token punctuation">(</span>略<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
  - Installing phpunit/phpunit <span class="token punctuation">(</span><span class="token number">9.5</span>.10<span class="token punctuation">)</span>: Extracting archive
<span class="token number">62</span> package suggestions were added by new dependencies, use <span class="token variable"><span class="token variable">`</span><span class="token function">composer</span> suggest<span class="token variable">`</span></span> to see details.
Package swiftmailer/swiftmailer is abandoned, you should avoid using it. Use symfony/mailer instead.
Generating optimized autoload files
<span class="token operator">></span> Illuminate<span class="token punctuation">\</span>Foundation<span class="token punctuation">\</span>ComposerScripts::postAutoloadDump
<span class="token operator">></span> @php artisan package:discover --ansi
Discovered Package: facade/ignition
Discovered Package: fruitcake/laravel-cors
Discovered Package: laravel/sail
Discovered Package: laravel/sanctum
Discovered Package: laravel/tinker
Discovered Package: nesbot/carbon
Discovered Package: nunomaduro/collision
Package manifest generated successfully.
<span class="token number">77</span> packages you are using are looking <span class="token keyword">for</span> funding.
Use the <span class="token variable"><span class="token variable">`</span><span class="token function">composer</span> fund<span class="token variable">`</span></span> <span class="token builtin class-name">command</span> to <span class="token function">find</span> out more<span class="token operator">!</span>
<span class="token operator">></span> @php artisan vendor:publish --tag<span class="token operator">=</span>laravel-assets --ansi --force
No publishable resources <span class="token keyword">for</span> tag <span class="token punctuation">[</span>laravel-assets<span class="token punctuation">]</span>.
Publishing complete.
<span class="token operator">></span> @php artisan key:generate --ansi
Application key <span class="token builtin class-name">set</span> successfully.

Application ready<span class="token operator">!</span> Build something amazing.
</code></pre>
<p>作成されたプロジェクトを見てみる。</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> ./practice-laravel/

$ <span class="token function">ls</span> -1 -p
README.md
app/
artisan
bootstrap/
composer.json
composer.lock
config/
database/
package.json
phpunit.xml
public/
resources/
routes/
server.php
storage/
tests/
vendor/
webpack.mix.js
</code></pre>
<p>なんかいっぱいできてる。</p>
<h2 id="開発サーバを起動してみる"><a class="header-link" href="#開発サーバを起動してみる"><span class="header-link-mark"></span></a>開発サーバを起動してみる</h2>
<p><code>artisan</code> というのは Laravel を扱う CLI ツール。コレを使って開発サーバを起動できる。</p>
<pre class="language-bash"><code class="language-bash">$ php artisan serve
<span class="token comment"># http://localhost:8000/</span>
</code></pre>
<p>PHP ファイルを変更すると即座に変更が反映される。</p>
<ul>
  <li>参考：<a href="https://qiita.com/shosho/items/a7ea8198f8923b08e1dd">Laravelのバージョンを確認するコマンド - Qiita</a></li>
</ul>
<p>ココでこのプロジェクトに入っている Laravel のバージョンを確認してみると、8.75.0 であることが分かった。</p>
<pre class="language-bash"><code class="language-bash">$ php artisan --version
Laravel Framework <span class="token number">8.75</span>.0
</code></pre>
<p>そこで、以下のリファレンスを見ながら作業することにした。</p>
<ul>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/">8.x Laravel</a>
    <ul>
      <li>このリファレンスが良さそうだ</li>
    </ul>
  </li>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/installation.html">インストール 8.x Laravel</a>
    <ul>
      <li>開発サーバの起動方法</li>
    </ul>
  </li>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/configuration.html">設定 8.x Laravel</a>
    <ul>
      <li>設定ファイルに関して</li>
    </ul>
  </li>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/structure.html">ディレクトリ構造 8.x Laravel</a>
    <ul>
      <li>ディレクトリ構成の説明</li>
    </ul>
  </li>
</ul>
<h2 id="ルーティングをイジってみる"><a class="header-link" href="#ルーティングをイジってみる"><span class="header-link-mark"></span></a>ルーティングをイジってみる</h2>
<ul>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/routing.html">ルーティング 8.x Laravel</a></li>
</ul>
<p>RoR や Express などを触ったことがあれば何となく分かると思うが、Laravel もまた Router → Controller と別かれる構成である。まずは Router をイジってみて、好きなエンドポイントを生やしてみる。</p>
<ul>
  <li><code>./routes/web.php</code></li>
</ul>
<pre class="language-php"><code class="language-php"><span class="token scope">Route<span class="token punctuation">::</span></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/greeting'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>既存の <code>./routes/web.php</code> ファイルに、上のようなコードを追記してやる。コレで <code>http://localhost:8000/greeting</code> ができ、アクセスすると「Hello World」と表示される。</p>
<h2 id="コントローラを作ってみる"><a class="header-link" href="#コントローラを作ってみる"><span class="header-link-mark"></span></a>コントローラを作ってみる</h2>
<ul>
  <li>参考：<a href="https://readouble.com/laravel/8.x/ja/controllers.html">コントローラ 8.x Laravel</a></li>
</ul>
<p>上の例では Router 内でコンテンツを返していたが、今度はコントローラを作り、コントローラにレスポンスを組み立ててもらう。</p>
<ul>
  <li><code>./routes/web.php</code></li>
</ul>
<pre class="language-php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>UserController</span><span class="token punctuation">;</span>

<span class="token scope">Route<span class="token punctuation">::</span></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token scope">UserController<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>↑ こんな感じで、UserController をインポートし、<code>index</code> 関数を紐付けるコードを追記する。</p>
<ul>
  <li><code>./app/Http/Controllers/UserController.php</code></li>
</ul>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&#x3C;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
    <span class="token comment">// 一覧表示するテイ</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'User Index'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre>
<p>↑ 今回はコンテンツ部分は完全なダミー、「User Index」の文言を返すだけだが、とりあえずコレで <code>http://localhost:8000/users</code> が出来る。</p>
<h2 id="今回はココまで"><a class="header-link" href="#今回はココまで"><span class="header-link-mark"></span></a>今回はココまで</h2>
<p>Laravel も RoR に似た感じで、色々と規約が隠蔽されてる感じ。MVC 構成を堅牢に保つためにはこうしたフレームワークが必要だろうけど、他のフレームワークでやってたことを Laravel 用に覚え直さないといけない感があって、初学者よりも中級者以降はより面倒臭がってしまうかもしれない。ｗ</p><div class="ad-amazon">
  <div class="ad-amazon-image">
    <a href="https://www.amazon.co.jp/dp/B096ZSB658?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">
      <img src="https://m.media-amazon.com/images/I/51QEU2iYi6S._SL160_.jpg" width="125" height="160">
    </a>
  </div>
  <div class="ad-amazon-info">
    <div class="ad-amazon-title">
      <a href="https://www.amazon.co.jp/dp/B096ZSB658?tag=neos21-22&amp;linkCode=osi&amp;th=1&amp;psc=1">PHPフレームワークLaravel Webアプリケーション開発 バージョン8.x対応</a>
    </div>
  </div>
</div>
<div class="ad-rakuten">
  <div class="ad-rakuten-image">
    <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F16684834%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F20316892%2F">
      <img src="https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/3002/9784802613002.jpg?_ex=128x128">
    </a>
  </div>
  <div class="ad-rakuten-info">
    <div class="ad-rakuten-title">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F16684834%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F20316892%2F">PHPフレームワーク Laravel Webアプリケーション開発 バージョン8.x対応 [ 竹澤 有貴 ]</a>
    </div>
    <div class="ad-rakuten-shop">
      <a href="https://hb.afl.rakuten.co.jp/hgc/g00q0722.waxyc9ff.g00q0722.waxyd017/?pc=https%3A%2F%2Fwww.rakuten.co.jp%2Fbook%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2F">楽天ブックス</a>
    </div>
    <div class="ad-rakuten-price">価格 : 4180円</div>
  </div>
</div>
<ul>
  <li>参考：<a href="https://ja.wikipedia.org/wiki/Laravel">Laravel - Wikipedia</a></li>
  <li>参考：<a href="https://laraweb.net/environment/899/">Artisanコマンド（早見表） - Laravel学習帳</a></li>
  <li>参考：<a href="https://qiita.com/shizen-shin/items/61bb2aed0c2f9f682d29">【Laravel】Illuminateとは何か？ファイルはどこにあるのか？ - Qiita</a>
    <ul>
      <li><code>use Illuminate\Routing\Controller as BaseController;</code> というように、Illuminate という名前空間から色々インポートされている</li>
      <li>Illuminate は Laravel 4 のコードネームで、Laravel の各種コンポーネントがまとめられている</li>
    </ul>
  </li>
</ul>

      </main>
      <footer id="footer">
        <div id="footer-contents">
          <div id="date-time">
            <dl>
              <dt>Created</dt>
              <dd><time>2021-12-25</time></dd>
              <dt>Last-Modified</dt>
              <dd><time>2021-12-25</time></dd>
            </dl>
          </div>
          <nav id="footer-links">
            <ul>
              <li id="footer-link-about"><a href="/about/index.html" title="About">About</a></li>
              <li id="footer-link-search"><a href="/about/search.html" title="Search">Search</a></li>
              <li id="footer-link-feeds"><a href="/feeds.xml" title="Feeds">Feeds</a></li>
              <li id="footer-link-github"><a href="https://github.com/Neos21/" title="GitHub">GitHub</a></li>
            </ul>
          </nav>
          <nav id="to-top"><a href="#" title="To Top"><span>▲ To Top</span></a></nav>
        </div>
      </footer>
    </div>
  </body>
</html>
