---
title        : アノテーションコメント (TODO・FIXME・XXX) を使う
created      : 2021-10-11
last-modified: 2021-10-11
path:
  - /index.html Neo's World
  - /tech/index.html Tech
  - /tech/programming/index.html プログラミング
---

Java における JavaDoc コメントや、JavaScript における JSDoc のような*ドキュメンテーションコメント*は、IDE でツールチップ表示できたりとか、後で API 仕様書を HTML 生成出来たりとかするので、ちゃんと書きましょうという話はよく見かけるだろう。

しかし、「TODO コメント」などの**アノテーションコメント**となると、その概念自体を知らない人が案外多い。アノテーションコメントはその名のとおり、「注釈」をコメントで入れる手法で、最近の IDE は代表的なアノテーションコメントをハイライトしてくれたりする。代表的なのは以下あたりだろう。

- **`TODO`** … 後で追加・変更が必要なコード
- *`FIXME`* … リファクタリングや不具合修正して欲しいコード
- `XXX` … `HACK` とも。危険なコード、なぜ動いているか分からないようなコード

といったアノテーションだ。

```javascript
function calcPrice(item) {
  // TODO : 現状はダミーデータを返しているだけ・あとで実装すること
  return 100;
}

function mergeItems(items1, items2) {
  // FIXME : 引数が null の時に例外が発生するので入力チェックをした方が良い
  return ...;
}
```

こんな感じで、プログラミング言語に限らず、`TODO :` とか `FIXME :` とかいう接頭辞を付けてコメントを書くのだ。

このようなルールでコメントを入れていけば、*プロジェクト全体のコードを `grep` するだけで問題箇所が明らかになる*。逆にいえば、`grep` してもこうしたアノテーションコメントが出てこなくなったら、綺麗で完成されたコードになっている、といえるワケだ。

人によって色んなアノテーションを使うと、検索容易性・ググラビリティが下がり、`grep` 漏れしかねないので、**どのアノテーションを使うか迷ったら `TODO :` で書く**、としておくと良いだろう。

そもそもコメントを書くのをサボる輩が多くてゲンナリする。一目見て分かるようなコードを書いてない癖に、説明責任を放棄しやがって。分かりにくいところがあったらコメントだけでも追記するとか、まずコメントをたくさん書く文化が出来てほしいモノだ。

- [コメント内で使える特殊キーワード（XXX、TODO など）を理解する | まくまくいろいろノート](https://maku77.github.io/memo/practice/keyword-in-comment.html)
- [最近コード中のTODOコメントの書き方を工夫している - $shibayu36->blog;](https://blog.shibayu36.org/entry/2016/05/08/190000)
- [TODO以外のアノテーションコメントまとめ | ITedite](https://www.taperium.com/wordpress/tech/15285.html)
- [アノテーションコメント - Qiita](https://qiita.com/its532/items/fd82d19bb0ecf1d5a454)
