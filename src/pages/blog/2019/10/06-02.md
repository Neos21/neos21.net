---
title        : iPhone 11 Pro Max のカメラ機能の細かい仕様・Windows に取込・Google Photo に同期する時の注意点などなど
created      : 2019-10-06
last-modified: 2019-10-06
header-date  : true
path:
  - /index.html Neo's World
  - /blog/index.html Blog
  - /blog/2019/index.html 2019年
  - /blog/2019/10/index.html 10月
hidden-info:
  original-blog: Corredor
---

iPhone 11 Pro Max のカメラアプリで楽しんでいる。コレまでにない新しい機能も多くて楽しいのだが、Windows PC に取り込む時に注意点が必要だったり、Google Photo に同期する時に気になったことがあったので、色々と調べてみた。

## 目次

## iPhone 11 Pro Max のカメラ機能の細かな仕様

自分が気付いた範囲で、_標準の「カメラ」アプリ_の機能に関する細かな仕様を書き出してみた。

- 「写真」モードでは、周りの明るさによって、_超広角・広角・望遠の3つのレンズ_を使い分けるか、**超広角・広角の2つのみ**を使うかが変わる
  - この挙動は、望遠レンズが搭載された iPhone 7 Plus からの機能。望遠レンズは F 値が大きく暗所に弱いので、明るさが確保できない場合は望遠レンズを使った光学ズームではなく、広角レンズを使ったデジタルズームで対処するのだ
  - 標準のカメラアプリでは「必ず望遠レンズに切り替えさせる」という制御は不可能。自分で Swift アプリを開発するのであれば、AVFoundation を使って _`AVCaptureDevice.DeviceType.builtInTripleCamera`_ を選択すれば良い
  - 参考：[builtInTripleCamera - AVCaptureDevice.DeviceType | Apple Developer Documentation](https://developer.apple.com/documentation/avfoundation/avcapturedevice/devicetype/3377621-builtintriplecamera?changes=l_6)
- 「設定」→「カメラ」→_「写真のフレームの外側を含めて撮影」_を選択すると、「フォーマット」は「高効率」に強制変更される
  - 「写真のフレームの外側を含めて撮影」とは、広角・望遠レンズを使って撮影する時に、同時に超広角レンズでも撮影してあって、2つの画像を上手く合成することで、広角レンズの画角外の画を使えるという仕組み
      - 超広角レンズでも撮影するかどうかは「カメラ」アプリが自動的に判断するが、構図の外側が半透明で表示されていれば、超広角レンズのデータも裏で保存されるはずだ。超広角レンズだけを指で軽く隠してみたりすると、画像がどのように合成されているか分かって面白い
  - 「高効率」フォーマットとは、**`.heic`** というフォーマットのこと。`.jpg` ではなくなるので注意
      - 「互換性優先」フォーマットにすると、写真は `.jpg`、動画は `.mp4` フォーマットでの記録となるが、フレームの外側を記録することはできなくなる
- 「設定」→「カメラ」→**「ビデオのフレームの外側を含めて撮影」**は **QuickTake でのみ利用できる**
  - QuickTake とは、「写真」モードでシャッターボタンを長押しすると、動画撮影が始められる機能。「ビデオ」モードだと 16:9 の画角でしか撮影できないが、QuickTake なら 4:3 などの画角で撮影できる。16:9 よりも記録できる画角が広がるので、この機能を上手く使った方が広く映像が撮れるかも
  - 「ビデオのフレームの外側を含めて撮影」という設定は、この QuickTake で動画を撮影した時のみ記録される。「ビデオ」モードで撮影した時は使えない
  - 実態は、**広角・望遠レンズで撮影した動画と一緒に、超広角レンズでも動画を撮影してあって、**超広角レンズで撮った映像を残すかどうかが選べる、ということだった。超広角レンズには手ブレ補正がないし、F 値も広角レンズより大きいので、ノイズが乗りがち。画質よりも画角を優先したい場合に向いているだろう
  - 内部的には `AVCaptureMultiCamSession` を使ってるのかしら？
  - ちなみに、「ビデオのフレームの外側を含めて撮影」を選択すると、コチラも「高効率」フォーマットが選択される。`.mp4` ではなく `.mov` 形式になる
- 「設定」→「写真」→「調整を自動適用」を選択すると、撮影後の写真の画角が自動調整される
  - 自分で「編集」をしなくても、右上に青色の「自動」というバッジが出るので、イイカンジに画角が調整される
  - 効果が現れるタイミングがよく分からないが、明るいところで撮ると自動調整が効きやすいかもしれない
      - 参考：[iPhoneでカメラのフレームの外側を含めて撮影する - Apple サポート](https://support.apple.com/ja-jp/guide/iphone/iph8692d3298/ios)
      - 参考：[iPhone11 Proで撮影後の編集… - Apple コミュニティ](https://discussionsjapan.apple.com/thread/250649070)

## Windows PC に写真・動画を転送する際の注意点

自分は iPhone の同期は Windows PC で行ってきた。写真や動画は iPhone を USB で繋ぎ、エクスプローラ上で PC にコピーしていた。

iPhone 11 Pro Max になって初めて写真を転送しようとしたところ、**ファイル転送中にエクスプローラがフリーズする**現象が発生した。

よくよく調べてみると、コレは「高効率」フォーマットで記録された映像を、ファイル転送中に「互換性優先」フォーマットに**変換しながら**転送していることが原因だと分かった。エクスプローラ上では `.jpg` や `.mp4` に見えているが、実ファイルは `.heic` や `.mov` で、コピー時に変換しているワケだ。

「高効率」フォーマットである `.heic` (HEIF) 形式の写真も、`.mov` (HEVC H.265) 形式の動画も、Windows PC で正常に表示できるのは確認できたので、`.jpg` や `.mp4` (H.264) に変換しながら転送させることは止めて、元のフォーマットのまま転送させることにした。

その設定は、iPhone の「設定」アプリ →「写真」→「MAC または PC に転送」欄に移動し、_「自動」_ではなく**「元のフォーマットのまま」**を選択すれば良い。こうすれば、ファイル転送時の変換処理がなくなるので、すんなりファイル転送できるようになった。

- 参考：[iPhoneの写真・動画をWindows 10のパソコンに保存する方法。「.HEIC」も拡張機能の追加で表示できる | できるネット](https://dekiru.net/article/17268/)

## Windows に転送できる画像・動画の仕様

- 「写真のフレームの外側を含めて撮影」を使って、画角を広く編集した画像は、編集後の画像がエクスプローラ上に見える
- 「ビデオのフレームの外側を含めて撮影」を使って、超広角レンズの動画を活かした編集をした場合は、「元のレンズの動画ファイル」と「超広角レンズの動画ファイル」の2つが転送できる
- 「ポートレート」モードで撮った写真は、デフォルトだと効果が適用される前の画像ファイルしか転送できない。ポートレートのボケ味やフィルタ効果を適用した写真を転送するには、スクショを撮ったり Google Drive アプリに転送するなどして別途書き出さないといけない

## 高効率フォーマットの画像や動画は Google Photo で容量をかけることなく同期できる

さて、自分は写真や動画を Windows に転送したら、「Google ドライブ」アプリの「フォト」機能を使って、Google Photo にバックアップを保存している。Google Photo は (一定の画質を超えると圧縮はされるが) 容量無制限で写真や動画をアップできるので、バックアップとして活用している。

今回、写真と動画の形式が新しいフォーマットになったので、Google Photo で正しくバックアップされるかが心配だった。結論からいくと、**`.heic` 形式の写真も容量がかかることなく同期できた**。今までの `.jpg` 同様、Google Drive の容量がかからずに済んだので一安心。

## 以上

便利なカメラ機能の影響で、慣れ親しんだ JPG 形式が使えなかったりしたものの、Windows PC へのファイル転送、Google Photo でのバックアップ同期も何とか出来た。

動画はどうせ編集して YouTube なり Instagram なりにアップするだろうから、そこでエンコードされて形式は気にならなくなると思う。写真は PC に転送したあとに共有するためには、HEIF から JPG に変換した方がみんな見やすいと思うが、最近はもうスマホから直で転送しちゃうだろうから、その時に JPG に変換されて、特には問題ないかと思う。

仕様や特徴を理解できたと思うので、一安心。
